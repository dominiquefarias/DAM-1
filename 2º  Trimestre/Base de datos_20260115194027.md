# Reporte de proyecto

## Estructura del proyecto

```
/Users/dominique/Desktop/Dam2.0/DAM-1/2º  Trimestre/Base de datos
├── .DS_Store
├── 003- Realizacion de consultas
│   ├── .DS_Store
│   ├── 001-Proyeccion, seleccion y orden
│   │   ├── 001-creo una base de datos.sql
│   │   ├── 003-select nombrando columnas.sql
│   │   ├── 005-proyeccion.sql
│   │   ├── 006-ordenacion alfabetica ascendiente por defecto.sql
│   │   ├── 007-ascendiente explicito.sql
│   │   ├── 009-descendiente por edad.sql
│   │   ├── 010-ordenacion por dos columnas.sql
│   │   └── Ejercicios final unidad
│   │       ├── ejercicios final eval.md
│   │       └── ejercicios final eval.sql
│   ├── 002- Operadores logicos
│   │   ├── 002-operadores aritmeticos.sql
│   │   ├── 003- comparacion.sql
│   │   ├── 004- ponemos alias.sql
│   │   ├── 005-operador logico and.sql
│   │   └── Ejercicio final unidad
│   │       ├── ejercicio final eval.md
│   │       └── ejercicio final eval.sql
│   ├── 003-Consultas de resumen
│   │   ├── 002- Resumen con conteo.sql
│   │   ├── 003- cliente mas joven.sql
│   │   ├── 004- cliente joven identificado.sql
│   │   ├── 005- cliente mas viejo identificado.sql
│   │   ├── 006-funcion de promedio.sql
│   │   ├── 007-redondeos.sql
│   │   ├── 008-conecto base de datos .py
│   │   ├── 009-graficas.py
│   │   └── Ejercicio final unidad
│   │       ├── ejercicio final eval.md
│   │       └── ejercicio final eval.sql
│   ├── 004-Agrupamientos de registro
│   │   ├── 001-ir conectando poco a poco.sql
│   │   ├── 002-tabla de productos.sql
│   │   ├── 003-inserciones.sql
│   │   ├── 004- agrupamiento.sql
│   │   ├── 005-ademas ordenamos.sql
│   │   ├── 006-proyecciones.sql
│   │   ├── 008-plantilla python mysql.py
│   │   ├── 009-creo dos listas.py
│   │   ├── 010-grafica.py
│   │   ├── 011-etiquetas.py
│   │   ├── 012-ordeno por numero.py
│   │   ├── 013-descendiente.py
│   │   ├── 014-categorias.py
│   │   ├── 015-stock.py
│   │   └── Ejercicio final unidad
│   │       ├── ejercicio final eval.md
│   │       └── ejercicio final eval.sql
│   ├── 005-composiciones claves
│   │   ├── 001-creo base de datos sql.sql
│   │   ├── 002-ver los usuarios creados.sql
│   │   ├── 003-nos conectamos a la base de datos.py
│   │   ├── 004-ahora ponemos flask.py
│   │   ├── 005-creamos segundo endpoint.py
│   │   ├── 006-endpoint principal.py
│   │   ├── Ejercicio final unidad
│   │   │   └── ejercicio final eval.md
│   │   └── templates
│   │       └── index.html
│   └── 006-Composiciones externas
│       ├── 001-creamos la base de datos.sql
│       ├── 002-datos de muestras.sql
│       ├── 003-consulta poco productiva.sql
│       ├── 004-composicion.sql
│       ├── 005-mas composiciones.sql
│       ├── 006-proyeccion.sql
│       ├── 007-varias consultas para mas adelnate.sql
│       ├── 008-creamos vista.sql
│       ├── 009-llmar a la vista.sql
│       ├── 010-creamos usuario.sql
│       ├── 011-Plantilla de conexion.py
│       ├── 012-plantilla diccionario.py
│       ├── 013-flask para lanzar.py
│       ├── 014-uso de plantilla.py
│       └── templates
│           └── index.html
├── 004-Tratamiento de datos
│   ├── 001-Insercion, borrado y modificacion de registros
│   │   ├── 001-creamos una base de datos.sql
│   │   ├── 002-creamos usuario.sql
│   │   ├── 003-repaso select.sql
│   │   └── Ejercicios final unidad
│   │       └── ejercicio final eval.md
│   └── 005-Politicas de bloqueo. Concurrencia
│       ├── 001-codificar.php
│       ├── 002-descodificar.php
│       ├── 003-funciones codificacion.php
│       ├── 004-funcion descodificar.php
│       ├── 005-codificacion ascii.php
│       ├── 006-codificaromana.php
│       ├── 007-hasheo.php
│       ├── 008-condicion del picadillo.php
│       ├── 009-comprobador de picadillo.php
│       └── 010-fuerza bruta.php
├── 006-Interpretacion de diagramas EntidadRelacion
│   ├── 001-El modelo ER. Entidades yy relaciones. Cardinales. Debilidad
│   │   ├── 001-una entidad.json
│   │   ├── 001-una entidad.svg
│   │   ├── 002-dos entidades y relacion.html
│   │   ├── 002-dos entidades y relacion.json
│   │   ├── 002-dos entidades y relacion.svg
│   │   ├── 003-Definición de cardinalidad y ejemplos.md
│   │   ├── 004-ejemplo tienda online.html
│   │   ├── 004-ejemplo tienda online.json
│   │   ├── 004-ejemplo tienda online.py
│   │   ├── 004-ejemplo tienda online.sql
│   │   └── 004-ejemplo tienda online.svg
│   └── 002-El modelo ER ampliado. Generalizacion y especializacion. Agregacion
│       ├── 001-Problema de duplicidad.json
│       ├── 001-Problema de duplicidad.svg
│       ├── 001-problema de duplicidad.html
│       ├── 002-Solucion con generalizacion.svg
│       ├── 002-solucion con generalizacion.html
│       ├── 002-solucion con generalizacion.json
│       ├── 003-especializacion.html
│       ├── 003-especializacion.json
│       ├── 003-especializacion.svg
│       ├── 004-Agregacion.svg
│       ├── 004-agregacion.html
│       ├── 004-agregacion.json
│       ├── 005-Esquema para el futuro.svg
│       ├── 005-esquema para el futuro.html
│       ├── 005-esquema para el futuro.json
│       └── 006-ejemplo videojuego.html
└── 008-Proyectos
    ├── 001-Login
    │   ├── 001-creamos base de datos.sql
    │   ├── 002-creamos usuario.sql
    │   ├── 003-comprobacion exitosa.sql
    │   ├── 004-comprobacion fallida.sql
    │   ├── exito.php
    │   ├── login.html
    │   └── procesa.php
    ├── 002-CRUD
    │   ├── 001-creamos base de datos de clientes.sql
    │   ├── 001-create
    │   │   ├── 001-crear.php
    │   │   ├── 002-procesa.php
    │   │   └── 003-resumen.md
    │   ├── 002-read
    │   │   ├── 001-leer.php
    │   │   └── 002-resumen.md
    │   ├── 002-usuario con permisos.sql
    │   ├── 003-delete
    │   │   ├── 001-miniformulario.html
    │   │   ├── 002-procesa eliminar.php
    │   │   └── 003-resumen.md
    │   └── 004-update
    │       ├── 001-miniformulario.html
    │       ├── 002-procesa modificar.php
    │       ├── 003-procesa actualizacion.php
    │       └── 004-resumen.md
    ├── 003-panel de control
    │   ├── 001-creaar periodico.sql
    │   ├── 002-insertar noticias de prueba.sql
    │   ├── 003-crear usuario.sql
    │   ├── 004-problema y solucion.sql
    │   └── aplicacion
    │       ├── admin
    │       │   ├── css
    │       │   │   └── estilo.css
    │       │   ├── escritorio.php
    │       │   ├── index.php
    │       │   └── procesalogin.php
    │       ├── css
    │       │   └── estilo.css
    │       ├── inc
    │       │   └── listar_articulos.php
    │       └── index.php
    └── 004-Super crud poco a poco
        ├── 001-tabla.php
        ├── 002-vomito el array.php
        ├── 003-recorrer dinamicamente el array.php
        ├── 004-parametro get.php
        ├── 005-botones.php
        ├── 006-menu abstracto.php
        ├── 007-un poco se estilo.php
        ├── 008-cabeceras de columna.php
        └── database_proyecto_biblioteca.md
```

## Código (intercalado)

# Base de datos
## 003- Realizacion de consultas
### 001-Proyeccion, seleccion y orden
**001-creo una base de datos.sql**
```sql
-- sudo mysql -u root -p

CREATE DATABASE clientes;

USE clientes;

CREATE TABLE clientes(
	nombre VARCHAR(255),
	apellidos VARCHAR(255),
	edad INT
);

INSERT INTO clientes VALUES ("Juan", "Lopez", 45);
INSERT INTO clientes VALUES ("Javier", "Martines", 46);

-- Podemos añadir mas clientes con ia

```
**003-select nombrando columnas.sql**
```sql
SELECT 

nombre,
apellidos,
edad

FROM

clientes;



```
**005-proyeccion.sql**
```sql
SELECT 

nombre AS "Nombre del cliente",
apellidos AS "Apellidos del cliente",
edad AS "Edad del cliente"

FROM

clientes;

```
**006-ordenacion alfabetica ascendiente por defecto.sql**
```sql
SELECT 

nombre AS "Nombre del cliente",
apellidos AS "Apellidos del cliente",
edad AS "Edad del cliente"

FROM

clientes

ORDER BY
apellidos;


```
**007-ascendiente explicito.sql**
```sql
SELECT 

nombre AS "Nombre del cliente",
apellidos AS "Apellidos del cliente",
edad AS "Edad del cliente"

FROM

clientes

ORDER BY
apellidos ASC;


```
**009-descendiente por edad.sql**
```sql
SELECT 

nombre AS "Nombre del cliente",
apellidos AS "Apellidos del cliente",
edad AS "Edad del cliente"

FROM

clientes

ORDER BY
edad DESC;


```
**010-ordenacion por dos columnas.sql**
```sql
SELECT 

nombre AS "Nombre del cliente",
apellidos AS "Apellidos del cliente",
edad AS "Edad del cliente"

FROM

clientes

ORDER BY
edad DESC;


```
#### Ejercicios final unidad
**ejercicios final eval.md**
```markdown
En este ejercicio se practican operaciones fundamentales en sql desde la creación de la base de datos y la selección del entorno de trabajo hasta la definición de estructuras y la inserción de datos. Se crea una tabla llamada clientes con campos para almacenar información personal, se insertan múltiples registros de forma simultánea, y se realizan consultas avanzadas para ordenar los resultados por edad y renombrar las columnas mediante alias, comprendiendo así cómo sql permite no solo almacenar la información sino también recuperarla y presentarla de manera organizada y legible

---

Primero creo la base de datos clientes

```
CREATE DATABASE clientes;
```

Luego me sitúo en la base de datos clientes

```
USE clientes;
```

Ahora creo la tabla clientes con los campos nombre, apellidos y edad

```
CREATE TABLE clientes(
	nombre VARCHAR(255),
	apellidos VARCHAR(255),
	edad INT
);
```

Ahora inserto los datos en la tabla clientes

```
INSERT INTO clientes (nombre, apellidos, edad) VALUES
('Juan', 'Pérez García', 28),
('María', 'López Rodríguez', 34),
('Carlos', 'González Sánchez', 45),
('Ana', 'Martínez Fernández', 22),
('Luis', 'Ramírez Torres', 56),
('Sofía', 'Hernández Díaz', 31),
('Miguel', 'Torres Ruiz', 40),
('Elena', 'Flores Morales', 29),
('David', 'Castillo Romero', 37),
('Laura', 'Vargas Ortiz', 19);
```

Ahora selecciono todos los datos de la tabla clientes

```
SELECT * FROM clientes;
```

Lo cual me da los siguientes resultados

```
+--------+----------------------+------+
| nombre | apellidos            | edad |
+--------+----------------------+------+
| Juan   | Pérez García         |   28 |
| María  | López Rodríguez      |   34 |
| Carlos | González Sánchez     |   45 |
| Ana    | Martínez Fernández   |   22 |
| Luis   | Ramírez Torres       |   56 |
| Sofía  | Hernández Díaz       |   31 |
| Miguel | Torres Ruiz          |   40 |
| Elena  | Flores Morales       |   29 |
| David  | Castillo Romero      |   37 |
| Laura  | Vargas Ortiz         |   19 |
+--------+----------------------+------+
10 rows in set (0.000 sec)
```

Ahora selecciono los datos de la tabla clientes ordenados por edad

```
SELECT nombre AS 'Nombre del cliente', apellidos AS 'Apellidos del cliente', edad AS 'Edad del cliente' FROM clientes ORDER BY edad DESC;
```

Lo cual me da los siguientes resultados

```
+--------------------+-----------------------+------------------+
| Nombre del cliente | Apellidos del cliente | Edad del cliente |
+--------------------+-----------------------+------------------+
| Luis               | Ramírez Torres        |               56 |
| Carlos             | González Sánchez      |               45 |
| Miguel             | Torres Ruiz           |               40 |
| David              | Castillo Romero       |               37 |
| María              | López Rodríguez       |               34 |
| Sofía              | Hernández Díaz        |               31 |
| Elena              | Flores Morales        |               29 |
| Juan               | Pérez García          |               28 |
| Ana                | Martínez Fernández    |               22 |
| Laura              | Vargas Ortiz          |               19 |
+--------------------+-----------------------+------------------+
10 rows in set (0.006 sec)
```

Ahora selecciono solo el nombre y los apellidos de los clientes

```
SELECT nombre, apellidos FROM clientes;
```

Lo cual me da los siguientes resultados

```
+--------+----------------------+
| nombre | apellidos            |
+--------+----------------------+
| Juan   | Pérez García         |
| María  | López Rodríguez      |
| Carlos | González Sánchez     |
| Ana    | Martínez Fernández   |
| Luis   | Ramírez Torres       |
| Sofía  | Hernández Díaz       |
| Miguel | Torres Ruiz          |
| Elena  | Flores Morales       |
| David  | Castillo Romero      |
| Laura  | Vargas Ortiz         |
+--------+----------------------+
10 rows in set (0.000 sec)
```

Ahora selecciono solo el nombre y los apellidos de los clientes 

```
SELECT nombre AS 'Nombre del cliente', apellidos AS 'Apellidos del cliente', edad AS 'Edad del cliente' FROM clientes;
```

Lo cual me da los siguientes resultados

```
+--------------------+-----------------------+------------------+
| Nombre del cliente | Apellidos del cliente | Edad del cliente |
+--------------------+-----------------------+------------------+
| Juan               | Pérez García          |               28 |
| María              | López Rodríguez       |               34 |
| Carlos             | González Sánchez      |               45 |
| Ana                | Martínez Fernández    |               22 |
| Luis               | Ramírez Torres        |               56 |
| Sofía              | Hernández Díaz        |               31 |
| Miguel             | Torres Ruiz           |               40 |
| Elena              | Flores Morales        |               29 |
| David              | Castillo Romero       |               37 |
| Laura              | Vargas Ortiz          |               19 |
+--------------------+-----------------------+------------------+
10 rows in set (0.000 sec)
```

---

En conclusión este ejercicio me ha permitido verificar la importancia de la presentación de datos en SQL a través de las consultas SELECT combinadas con cláusulas de ordenamiento y el uso de alias se ha demostrado que no basta con almacenar información en la base de datos sino que es crucial saber extraerla y formatearla adecuadamente esto transforma simples datos brutos en reportes ordenados y comprensibles para el usuario final
```
**ejercicios final eval.sql**
```sql
CREATE DATABASE clientes;

USE clientes;

CREATE TABLE clientes(
	nombre VARCHAR(255),
	apellidos VARCHAR(255),
	edad INT
);

INSERT INTO clientes (nombre, apellidos, edad) VALUES
('Juan', 'Pérez García', 28),
('María', 'López Rodríguez', 34),
('Carlos', 'González Sánchez', 45),
('Ana', 'Martínez Fernández', 22),
('Luis', 'Ramírez Torres', 56),
('Sofía', 'Hernández Díaz', 31),
('Miguel', 'Torres Ruiz', 40),
('Elena', 'Flores Morales', 29),
('David', 'Castillo Romero', 37),
('Laura', 'Vargas Ortiz', 19);

SELECT * FROM clientes;
+--------+----------------------+------+
| nombre | apellidos            | edad |
+--------+----------------------+------+
| Juan   | Pérez García         |   28 |
| María  | López Rodríguez      |   34 |
| Carlos | González Sánchez     |   45 |
| Ana    | Martínez Fernández   |   22 |
| Luis   | Ramírez Torres       |   56 |
| Sofía  | Hernández Díaz       |   31 |
| Miguel | Torres Ruiz          |   40 |
| Elena  | Flores Morales       |   29 |
| David  | Castillo Romero      |   37 |
| Laura  | Vargas Ortiz         |   19 |
+--------+----------------------+------+
10 rows in set (0.000 sec)

SELECT nombre AS 'Nombre del cliente', apellidos AS 'Apellidos del cliente', edad AS 'Edad del cliente' FROM clientes ORDER BY edad DESC;
+--------------------+-----------------------+------------------+
| Nombre del cliente | Apellidos del cliente | Edad del cliente |
+--------------------+-----------------------+------------------+
| Luis               | Ramírez Torres        |               56 |
| Carlos             | González Sánchez      |               45 |
| Miguel             | Torres Ruiz           |               40 |
| David              | Castillo Romero       |               37 |
| María              | López Rodríguez       |               34 |
| Sofía              | Hernández Díaz        |               31 |
| Elena              | Flores Morales        |               29 |
| Juan               | Pérez García          |               28 |
| Ana                | Martínez Fernández    |               22 |
| Laura              | Vargas Ortiz          |               19 |
+--------------------+-----------------------+------------------+
10 rows in set (0.006 sec)

SELECT nombre, apellidos FROM clientes;
+--------+----------------------+
| nombre | apellidos            |
+--------+----------------------+
| Juan   | Pérez García         |
| María  | López Rodríguez      |
| Carlos | González Sánchez     |
| Ana    | Martínez Fernández   |
| Luis   | Ramírez Torres       |
| Sofía  | Hernández Díaz       |
| Miguel | Torres Ruiz          |
| Elena  | Flores Morales       |
| David  | Castillo Romero      |
| Laura  | Vargas Ortiz         |
+--------+----------------------+
10 rows in set (0.000 sec)

SELECT nombre AS 'Nombre del cliente', apellidos AS 'Apellidos del cliente', edad AS 'Edad del cliente' FROM clientes;
+--------------------+-----------------------+------------------+
| Nombre del cliente | Apellidos del cliente | Edad del cliente |
+--------------------+-----------------------+------------------+
| Juan               | Pérez García          |               28 |
| María              | López Rodríguez       |               34 |
| Carlos             | González Sánchez      |               45 |
| Ana                | Martínez Fernández    |               22 |
| Luis               | Ramírez Torres        |               56 |
| Sofía              | Hernández Díaz        |               31 |
| Miguel             | Torres Ruiz           |               40 |
| Elena              | Flores Morales        |               29 |
| David              | Castillo Romero       |               37 |
| Laura              | Vargas Ortiz          |               19 |
+--------------------+-----------------------+------------------+
10 rows in set (0.000 sec)


```
### 002- Operadores logicos
**002-operadores aritmeticos.sql**
```sql
-- sudo mysql -u root -u

SELECT
nombre,
apellidos,
edad+500
FROM clientes;

SELECT
nombre,
apellidos,
edad/5
FROM clientes;

SELECT
nombre,
apellidos,
edad-50
FROM clientes;



```
**003- comparacion.sql**
```sql
-- sudo mysql -u root -u

SELECT
nombre,
apellidos,
edad < 30
FROM clientes;


```
**004- ponemos alias.sql**
```sql
-- sudo mysql -u root -u

SELECT
nombre,
apellidos,
edad < 30 AS "¿Es menor de 30 años?"
FROM clientes;


```
**005-operador logico and.sql**
```sql
-- sudo mysql -u root -u

SELECT
nombre,
apellidos,
edad < 30 AS "¿Es menor de 30 años?",
edad >=30 && edad < 40 AS "Entre 30 y 40 años"
edad > 40 AS "Mayor de 40"
FROM clientes;


```
#### Ejercicio final unidad
**ejercicio final eval.md**
```markdown
En este ejercicio se practican operaciones aritméticas en sql utilizando la sentencia SELECT para generar columnas calculadas en tiempo de ejecución se trabaja sobre la tabla clientes realizando transformaciones matemáticas directas en el campo de la edad desde sumas y restas para proyectar valores futuros o pasados hasta multiplicaciones y divisiones para escalar los datos comprendiendo así cómo sql permite manipular y procesar valores numéricos dinámicamente sin alterar la información original almacenada

---

Primero selecciono la base de datos clientes

```
USE clientes;
```

Ahora hago una consulta que muestre los nombres y apellidos de los clientes junto con su edad incrementada en 500 años

```
SELECT nombre, apellido, edad + 500 FROM clientes;
```

Que se veria asi:

```
+--------+----------------------+------------+
| nombre | apellidos            | edad + 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |        528 |
| María  | López Rodríguez      |        534 |
| Carlos | González Sánchez     |        545 |
| Ana    | Martínez Fernández   |        522 |
| Luis   | Ramírez Torres       |        556 |
| Sofía  | Hernández Díaz       |        531 |
| Miguel | Torres Ruiz          |        540 |
| Elena  | Flores Morales       |        529 |
| David  | Castillo Romero      |        537 |
| Laura  | Vargas Ortiz         |        519 |
+--------+----------------------+------------+
10 rows in set (0.001 sec)
```

Ahora realizo una consulta similar pero esta vez disminuye la edad en 500 años

```
SELECT nombre, apellido, edad - 500 FROM clientes;
```

Que se veria asi:

```
+--------+----------------------+------------+
| nombre | apellidos            | edad - 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |       -472 |
| María  | López Rodríguez      |       -466 |
| Carlos | González Sánchez     |       -455 |
| Ana    | Martínez Fernández   |       -478 |
| Luis   | Ramírez Torres       |       -444 |
| Sofía  | Hernández Díaz       |       -469 |
| Miguel | Torres Ruiz          |       -460 |
| Elena  | Flores Morales       |       -471 |
| David  | Castillo Romero      |       -463 |
| Laura  | Vargas Ortiz         |       -481 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)
```

Ahora realizo una consulta que muestre los nombres y apellidos de los clientes junto con su edad multiplicada por 500

```
SELECT nombre, apellidos, edad * 500 FROM clientes;
```

Que se veria asi:

```
+--------+----------------------+------------+
| nombre | apellidos            | edad * 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |      14000 |
| María  | López Rodríguez      |      17000 |
| Carlos | González Sánchez     |      22500 |
| Ana    | Martínez Fernández   |      11000 |
| Luis   | Ramírez Torres       |      28000 |
| Sofía  | Hernández Díaz       |      15500 |
| Miguel | Torres Ruiz          |      20000 |
| Elena  | Flores Morales       |      14500 |
| David  | Castillo Romero      |      18500 |
| Laura  | Vargas Ortiz         |       9500 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)
```

Ahora realizo una consulta que muestre los nombres y apellidos de los clientes junto con su edad dividida entre 500.

```
SELECT nombre, apellidos, edad / 500 FROM clientes;
```

Que se veria asi:

```
+--------+----------------------+------------+
| nombre | apellidos            | edad / 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |     0.0560 |
| María  | López Rodríguez      |     0.0680 |
| Carlos | González Sánchez     |     0.0900 |
| Ana    | Martínez Fernández   |     0.0440 |
| Luis   | Ramírez Torres       |     0.1120 |
| Sofía  | Hernández Díaz       |     0.0620 |
| Miguel | Torres Ruiz          |     0.0800 |
| Elena  | Flores Morales       |     0.0580 |
| David  | Castillo Romero      |     0.0740 |
| Laura  | Vargas Ortiz         |     0.0380 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)
```

---

En conclusión este ejercicio me ha permitido verificar la importancia de la manipulación de datos en SQL a través de las consultas SELECT combinadas con operadores aritméticos se ha demostrado que no basta con almacenar información en la base de datos sino que es crucial saber extraerla y transformarla adecuadamente esto transforma simples datos brutos en valores calculados y procesados para el usuario final

```
**ejercicio final eval.sql**
```sql
CREATE DATABASE clientes;

USE clientes;

SELECT nombre, apellidos, edad + 500 FROM clientes;
+--------+----------------------+------------+
| nombre | apellidos            | edad + 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |        528 |
| María  | López Rodríguez      |        534 |
| Carlos | González Sánchez     |        545 |
| Ana    | Martínez Fernández   |        522 |
| Luis   | Ramírez Torres       |        556 |
| Sofía  | Hernández Díaz       |        531 |
| Miguel | Torres Ruiz          |        540 |
| Elena  | Flores Morales       |        529 |
| David  | Castillo Romero      |        537 |
| Laura  | Vargas Ortiz         |        519 |
+--------+----------------------+------------+
10 rows in set (0.001 sec)

SELECT nombre, apellidos, edad - 500 FROM clientes;
+--------+----------------------+------------+
| nombre | apellidos            | edad - 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |       -472 |
| María  | López Rodríguez      |       -466 |
| Carlos | González Sánchez     |       -455 |
| Ana    | Martínez Fernández   |       -478 |
| Luis   | Ramírez Torres       |       -444 |
| Sofía  | Hernández Díaz       |       -469 |
| Miguel | Torres Ruiz          |       -460 |
| Elena  | Flores Morales       |       -471 |
| David  | Castillo Romero      |       -463 |
| Laura  | Vargas Ortiz         |       -481 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)

SELECT nombre, apellidos, edad * 500 FROM clientes;
+--------+----------------------+------------+
| nombre | apellidos            | edad * 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |      14000 |
| María  | López Rodríguez      |      17000 |
| Carlos | González Sánchez     |      22500 |
| Ana    | Martínez Fernández   |      11000 |
| Luis   | Ramírez Torres       |      28000 |
| Sofía  | Hernández Díaz       |      15500 |
| Miguel | Torres Ruiz          |      20000 |
| Elena  | Flores Morales       |      14500 |
| David  | Castillo Romero      |      18500 |
| Laura  | Vargas Ortiz         |       9500 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)

SELECT nombre, apellidos, edad / 500 FROM clientes;
+--------+----------------------+------------+
| nombre | apellidos            | edad / 500 |
+--------+----------------------+------------+
| Juan   | Pérez García         |     0.0560 |
| María  | López Rodríguez      |     0.0680 |
| Carlos | González Sánchez     |     0.0900 |
| Ana    | Martínez Fernández   |     0.0440 |
| Luis   | Ramírez Torres       |     0.1120 |
| Sofía  | Hernández Díaz       |     0.0620 |
| Miguel | Torres Ruiz          |     0.0800 |
| Elena  | Flores Morales       |     0.0580 |
| David  | Castillo Romero      |     0.0740 |
| Laura  | Vargas Ortiz         |     0.0380 |
+--------+----------------------+------------+
10 rows in set (0.000 sec)
```
### 003-Consultas de resumen
**002- Resumen con conteo.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELCT edad
FROM clientes;

```
**003- cliente mas joven.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELCET
nombre,
apellidos,
MIN (edad)
FROM clientes;

```
**004- cliente joven identificado.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELECT
	nombre,
	apellidos,
	MIN (edad)
FROM clientes
ORDER BY edad ASC
LIMIT 1;


```
**005- cliente mas viejo identificado.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELECT
	nombre,
	apellidos,
	MIN (edad)
FROM clientes
ORDER BY edad DESC
LIMIT 1;


```
**006-funcion de promedio.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELECT
	AVG(edad)
FROM clientes;


```
**007-redondeos.sql**
```sql
-- sudo mysql -u rooot -p

USE clientes;
 
SELECT
	FLOOR(AVG(edad))
FROM clientes;

SELECT	
	CEIL(AVG(edad))
FROM clientes;



```
**008-conecto base de datos .py**
```python
#sudo mysql -u rooot -p

USE clientes;
 
SELECT
	FLOOR(AVG(edad))
FROM clientes;

SELECT	
	CEIL(AVG(edad))
FROM clientes;



```
**009-graficas.py**
```python
# pip3 install matplotlib
import matplotlib.pyplot as pt

pt.pie([40, 30, 20, 10])
pt.show()

```
#### Ejercicio final unidad
**ejercicio final eval.md**
```markdown
-- sudo mysql -u root -p

USE clientes;


```
**ejercicio final eval.sql**
```sql
SELECT ROUND(AVG(edad)) FROM clientes;
+------------------+
| ROUND(AVG(edad)) |
+------------------+
|               34 |
+------------------+
1 row in set (0.006 sec)

SELECT FLOOR(AVG(edad)) FROM clientes;
+------------------+
| FLOOR(AVG(edad)) |
+------------------+
|               34 |
+------------------+
1 row in set (0.006 sec)

SELECT CEIL(AVG(edad)) FROM clientes;
+-----------------+
| CEIL(AVG(edad)) |
+-----------------+
|              35 |
+-----------------+
1 row in set (0.000 sec)

SELECT * FROM clientes;
+--------+----------------------+------+
| nombre | apellidos            | edad |
+--------+----------------------+------+
| Juan   | Pérez García         |   28 |
| María  | López Rodríguez      |   34 |
| Carlos | González Sánchez     |   45 |
| Ana    | Martínez Fernández   |   22 |
| Luis   | Ramírez Torres       |   56 |
| Sofía  | Hernández Díaz       |   31 |
| Miguel | Torres Ruiz          |   40 |
| Elena  | Flores Morales       |   29 |
| David  | Castillo Romero      |   37 |
| Laura  | Vargas Ortiz         |   19 |
+--------+----------------------+------+
10 rows in set (0.006 sec)
```
### 004-Agrupamientos de registro
**001-ir conectando poco a poco.sql**
```sql
sudo mysql -u root -p

USE clientes;

SELECT * FROM clientes;



```
**002-tabla de productos.sql**
```sql
CREATE TABLE productos(
	nombre VARCHAR(255),
	precio DECIMAL(10,2)
	categoria VARCHAR(255),
	peso DECIMAL(10,2)
	stock INT,
	color VARCHAR(100)
);

INSERT INTO productos (nombre, precio, categoria, peso, stock, color) VALUES
('Laptop Pro 15"', 1299.99, 'Tecnología', 2.50, 15, 'Gris'),
('Auriculares Bluetooth X2', 89.99, 'Tecnología', 0.20, 40, 'Negro'),
('Ratón Gamer RGB', 49.90, 'Tecnología', 0.15, 60, 'Negro'),
('Teclado Mecánico MK500', 119.50, 'Tecnología', 0.90, 25, 'Blanco'),
('Monitor UltraWide 34"', 499.99, 'Tecnología', 5.80, 10, 'Negro'),

('Camiseta Deportiva', 19.99, 'Ropa', 0.25, 100, 'Azul'),
('Pantalones Chándal Premium', 35.50, 'Ropa', 0.60, 50, 'Gris'),
('Zapatillas Running AirFlex', 79.95, 'Ropa', 0.80, 35, 'Negro'),
('Chaqueta Impermeable', 59.99, 'Ropa', 1.10, 20, 'Rojo'),
('Calcetines Antideslizantes', 5.99, 'Ropa', 0.05, 200, 'Blanco'),

('Mesa de Madera Roble', 149.90, 'Hogar', 12.00, 8, 'Marrón'),
('Silla Ergonómica Pro', 129.50, 'Hogar', 6.50, 12, 'Negro'),
('Lámpara LED Minimalista', 29.99, 'Hogar', 0.90, 45, 'Blanco'),
('Cojín Decorativo 45x45', 12.50, 'Hogar', 0.40, 70, 'Verde'),
('Alfombra Suave 160x230', 89.99, 'Hogar', 4.50, 15, 'Beige'),

('Botella Deportiva 1L', 14.99, 'Deportes', 0.30, 90, 'Azul'),
('Balón de Fútbol Pro', 24.99, 'Deportes', 0.45, 60, 'Blanco'),
('Guantes de Entrenamiento', 17.50, 'Deportes', 0.20, 40, 'Negro'),
('Cuerda de Saltar Fitness', 9.99, 'Deportes', 0.10, 120, 'Rojo'),
('Mochila Outdoor 50L', 59.99, 'Deportes', 1.20, 25, 'Verde'),

('Jarrón Cerámico', 22.90, 'Decoración', 1.10, 30, 'Blanco'),
('Marco de Fotos 20x30', 8.99, 'Decoración', 0.25, 80, 'Negro'),
('Espejo Redondo 60cm', 49.90, 'Decoración', 3.00, 10, 'Dorado'),
('Portavelas Vintage', 6.50, 'Decoración', 0.15, 55, 'Plateado'),
('Figura Decorativa Elefante', 19.50, 'Decoración', 0.75, 20, 'Gris'),

('Juego de Sábanas 150cm', 39.99, 'Dormitorio', 2.00, 25, 'Blanco'),
('Edredón Nórdico', 79.99, 'Dormitorio', 3.50, 15, 'Gris'),
('Cortinas Blackout', 29.99, 'Dormitorio', 1.80, 35, 'Negro'),
('Almohada Viscoelástica', 24.90, 'Dormitorio', 0.90, 40, 'Blanco'),
('Manta Polar Suave', 14.99, 'Dormitorio', 0.70, 60, 'Azul'),

('Taladro Inalámbrico', 89.90, 'Herramientas', 1.80, 20, 'Amarillo'),
('Caja de Herramientas 75pcs', 59.99, 'Herramientas', 4.50, 12, 'Negro'),
('Martillo Profesional', 12.99, 'Herramientas', 0.80, 50, 'Plateado'),
('Destornillador Eléctrico', 29.99, 'Herramientas', 1.20, 30, 'Rojo'),
('Nivel Láser ProLine', 45.99, 'Herramientas', 0.70, 18, 'Verde'),

('Polera Básica Unisex', 12.90, 'Ropa', 0.20, 180, 'Negro'),
('Sudadera Oversize', 32.50, 'Ropa', 0.55, 75, 'Beige'),
('Gorro Invierno Lana', 8.99, 'Ropa', 0.10, 95, 'Gris'),
('Bufanda Larga', 11.50, 'Ropa', 0.25, 65, 'Rojo'),
('Botas Montaña GripMax', 99.99, 'Ropa', 1.50, 20, 'Marrón'),

('Cámara Fotográfica X100', 699.00, 'Tecnología', 1.20, 10, 'Negro'),
('Smartwatch Serie 5', 199.99, 'Tecnología', 0.30, 35, 'Negro'),
('Tablet 10" Slim', 159.99, 'Tecnología', 0.50, 25, 'Gris'),
('Powerbank 20000mAh', 24.90, 'Tecnología', 0.40, 60, 'Blanco'),
('Altavoz Portátil Bass+ ', 34.99, 'Tecnología', 0.70, 30, 'Rojo');




```
**003-inserciones.sql**
```sql
CREATE TABLE productos(
	nombre VARCHAR(255),
	precio DECIMAL(10,2)
	categoria VARCHAR(255),
	peso DECIMAL(10,2)
	stock INT,
	color VARCHAR(100)
);

INSERT INTO productos (nombre, precio, categoria, peso, stock, color) VALUES
('Laptop Pro 15"', 1299.99, 'Tecnología', 2.50, 15, 'Gris'),
('Auriculares Bluetooth X2', 89.99, 'Tecnología', 0.20, 40, 'Negro'),
('Ratón Gamer RGB', 49.90, 'Tecnología', 0.15, 60, 'Negro'),
('Teclado Mecánico MK500', 119.50, 'Tecnología', 0.90, 25, 'Blanco'),
('Monitor UltraWide 34"', 499.99, 'Tecnología', 5.80, 10, 'Negro'),

('Camiseta Deportiva', 19.99, 'Ropa', 0.25, 100, 'Azul'),
('Pantalones Chándal Premium', 35.50, 'Ropa', 0.60, 50, 'Gris'),
('Zapatillas Running AirFlex', 79.95, 'Ropa', 0.80, 35, 'Negro'),
('Chaqueta Impermeable', 59.99, 'Ropa', 1.10, 20, 'Rojo'),
('Calcetines Antideslizantes', 5.99, 'Ropa', 0.05, 200, 'Blanco'),

('Mesa de Madera Roble', 149.90, 'Hogar', 12.00, 8, 'Marrón'),
('Silla Ergonómica Pro', 129.50, 'Hogar', 6.50, 12, 'Negro'),
('Lámpara LED Minimalista', 29.99, 'Hogar', 0.90, 45, 'Blanco'),
('Cojín Decorativo 45x45', 12.50, 'Hogar', 0.40, 70, 'Verde'),
('Alfombra Suave 160x230', 89.99, 'Hogar', 4.50, 15, 'Beige'),

('Botella Deportiva 1L', 14.99, 'Deportes', 0.30, 90, 'Azul'),
('Balón de Fútbol Pro', 24.99, 'Deportes', 0.45, 60, 'Blanco'),
('Guantes de Entrenamiento', 17.50, 'Deportes', 0.20, 40, 'Negro'),
('Cuerda de Saltar Fitness', 9.99, 'Deportes', 0.10, 120, 'Rojo'),
('Mochila Outdoor 50L', 59.99, 'Deportes', 1.20, 25, 'Verde'),

('Jarrón Cerámico', 22.90, 'Decoración', 1.10, 30, 'Blanco'),
('Marco de Fotos 20x30', 8.99, 'Decoración', 0.25, 80, 'Negro'),
('Espejo Redondo 60cm', 49.90, 'Decoración', 3.00, 10, 'Dorado'),
('Portavelas Vintage', 6.50, 'Decoración', 0.15, 55, 'Plateado'),
('Figura Decorativa Elefante', 19.50, 'Decoración', 0.75, 20, 'Gris'),

('Juego de Sábanas 150cm', 39.99, 'Dormitorio', 2.00, 25, 'Blanco'),
('Edredón Nórdico', 79.99, 'Dormitorio', 3.50, 15, 'Gris'),
('Cortinas Blackout', 29.99, 'Dormitorio', 1.80, 35, 'Negro'),
('Almohada Viscoelástica', 24.90, 'Dormitorio', 0.90, 40, 'Blanco'),
('Manta Polar Suave', 14.99, 'Dormitorio', 0.70, 60, 'Azul'),

('Taladro Inalámbrico', 89.90, 'Herramientas', 1.80, 20, 'Amarillo'),
('Caja de Herramientas 75pcs', 59.99, 'Herramientas', 4.50, 12, 'Negro'),
('Martillo Profesional', 12.99, 'Herramientas', 0.80, 50, 'Plateado'),
('Destornillador Eléctrico', 29.99, 'Herramientas', 1.20, 30, 'Rojo'),
('Nivel Láser ProLine', 45.99, 'Herramientas', 0.70, 18, 'Verde'),

('Polera Básica Unisex', 12.90, 'Ropa', 0.20, 180, 'Negro'),
('Sudadera Oversize', 32.50, 'Ropa', 0.55, 75, 'Beige'),
('Gorro Invierno Lana', 8.99, 'Ropa', 0.10, 95, 'Gris'),
('Bufanda Larga', 11.50, 'Ropa', 0.25, 65, 'Rojo'),
('Botas Montaña GripMax', 99.99, 'Ropa', 1.50, 20, 'Marrón'),

('Cámara Fotográfica X100', 699.00, 'Tecnología', 1.20, 10, 'Negro'),
('Smartwatch Serie 5', 199.99, 'Tecnología', 0.30, 35, 'Negro'),
('Tablet 10" Slim', 159.99, 'Tecnología', 0.50, 25, 'Gris'),
('Powerbank 20000mAh', 24.90, 'Tecnología', 0.40, 60, 'Blanco'),
('Altavoz Portátil Bass+ ', 34.99, 'Tecnología', 0.70, 30, 'Rojo');




```
**004- agrupamiento.sql**
```sql
SELECT COUNT(color)
FROM productos; --resumen

SELECT COUNT(color),color
FROM productos
GROUP BY color;

```
**005-ademas ordenamos.sql**
```sql
SELECT COUNT(color)
FROM productos; --resumen

SELECT COUNT(color),color
FROM productos
GROUP BY color
ORDER BY color ASC;

```
**006-proyecciones.sql**
```sql
SELECT COUNT(color)
FROM productos; --resumen

SELECT 
COUNT(color) AS numero,
color
FROM productos
GROUP BY color
ORDER BY color ASC;

```
**008-plantilla python mysql.py**
```python
import mysql.connector

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY color ASC;
''');

filas = cursor.fetchall()

print(filas)

```
**009-creo dos listas.py**
```python
import mysql.connector

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY color ASC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)


```
**010-grafica.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY color ASC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades)
pt.show()

```
**011-etiquetas.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY color ASC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades,labels=etiquetas)
pt.show()

```
**012-ordeno por numero.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY numero ASC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades,labels=etiquetas)
pt.show()

```
**013-descendiente.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(color) AS numero,
	color
	FROM productos
	GROUP BY color
	ORDER BY numero DESC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades,labels=etiquetas)
pt.show()

```
**014-categorias.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(categoria) AS numero,
	color
	FROM productos
	GROUP BY categoria
	ORDER BY numero DESC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades,labels=etiquetas)
pt.show()

```
**015-stock.py**
```python
import mysql.connector
import matplotlib.pyplot as pt

conexion = mysql.connector.connect(
  host="localhost",        
  user="dominique3",        
  password="Domi123$",     
  database="portafolioexamen"   
)

cursor = conexion.cursor()
cursor.execute('''
	SELECT 
	COUNT(stock) AS numero,
	color
	FROM productos
	GROUP BY stock
	ORDER BY numero DESC;
''');

filas = cursor.fetchall()
cantidades = []
etiquetas = []
for fila in filas:
	cantidades.append(fila[0])
	etiquetas.append(fila[1])
print(cantidades)
print(etiquetas)
pt.pie(cantidades,labels=etiquetas)
pt.show()

```
#### Ejercicio final unidad
**ejercicio final eval.md**
```markdown
# Ejercicio Final: Agrupamientos y Visualización

Este documento contiene la solución para los ejercicios de agrupación y visualización de productos.

## 1. Configuración de la Base de Datos
Para ejecutar estos ejercicios, primero necesitamos una tabla de `productos` con datos. He creado el archivo `setup_database.sql` con el siguiente contenido:

```sql
-- setup_database.sql
DROP TABLE IF EXISTS productos;
CREATE TABLE productos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100),
    categoria VARCHAR(50),
    color VARCHAR(30),
    stock INT
);

INSERT INTO productos (nombre, categoria, color, stock) VALUES
('Camiseta Básica', 'Ropa', 'Blanco', 100),
('Pantalón Vaquero', 'Ropa', 'Azul', 50),
('Zapatillas Running', 'Calzado', 'Negro', 30),
('Camisa Formal', 'Ropa', 'Blanco', 40),
('Calcetines Deportivos', 'Ropa', 'Blanco', 200),
('Chaqueta Cuero', 'Ropa', 'Negro', 15),
('Zapatos Vestir', 'Calzado', 'Marrón', 25),
('Gorra', 'Accesorios', 'Rojo', 60),
('Bufanda', 'Accesorios', 'Azul', 45),
('Cinturón', 'Accesorios', 'Negro', 80),
('Vestido Verano', 'Ropa', 'Rojo', 35),
('Sandalias', 'Calzado', 'Marrón', 40),
('Botas Invierno', 'Calzado', 'Negro', 20),
('Bolso Mano', 'Accesorios', 'Rojo', 25),
('Reloj Deportivo', 'Accesorios', 'Negro', 10);
```

**Instrucción:** Ejecuta este script el tu cliente de MySQL (Workbench, terminal, etc.) para crear la tabla y los datos.

## 2. Categorías de Productos (Gráfico de Pastel)
Script: `01_categorias.py`
Consulta SQL utilizada:
```sql
SELECT categoria, COUNT(categoria) as numero 
FROM productos 
GROUP BY categoria 
ORDER BY numero DESC;
```
Este script conecta a la base de datos, obtiene el conteo por categoría y genera un gráfico de pastel.

## 3. Colores de Productos (Gráfico de Pastel con Colores Reales)
Script: `02_colores.py`
Consulta SQL utilizada:
```sql
SELECT color, COUNT(color) as numero 
FROM productos 
GROUP BY color 
ORDER BY numero DESC;
```
Este script mapea los nombres de colores en la base de datos (ej. 'Rojo') a colores visuales en el gráfico (ej. 'red').

## 4. Stock de Productos (Gráfico de Barras)
Script: `03_stock.py`
Consulta SQL utilizada:
```sql
SELECT stock, COUNT(*) as numero 
FROM productos 
GROUP BY stock 
ORDER BY numero DESC;
```
Este script muestra cuántos productos tienen el mismo nivel de stock.

---
**Nota:** Asegúrate de actualizar las credenciales (`user`, `password`, `database`) en cada archivo `.py` antes de ejecutarlos.

```
**ejercicio final eval.sql**
```sql

```
### 005-composiciones claves
**001-creo base de datos sql.sql**
```sql
-- Crear base de datos
CREATE DATABASE IF NOT EXISTS tienda1;
USE tienda1;

-- Tabla clientes
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    telefono VARCHAR(20),
    fecha_registro VARCHAR(255)
);

-- Tabla productos
CREATE TABLE productos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    precio DECIMAL(10,2) NOT NULL,
    stock INT NOT NULL DEFAULT 0
);

-- Datos de prueba: clientes
INSERT INTO clientes (nombre, email, telefono)
VALUES
    ('Ana López', 'ana@example.com', '600123456'),
    ('Carlos Ruiz', 'carlos@example.com', '611987654'),
    ('María Gómez', 'maria@example.com', '622111222');

-- Datos de prueba: productos
INSERT INTO productos (nombre, descripcion, precio, stock)
VALUES
    ('Portátil 15"', 'Portátil de 15 pulgadas con 16GB RAM', 899.99, 10),
    ('Ratón inalámbrico', 'Ratón óptico inalámbrico', 19.90, 50),
    ('Teclado mecánico', 'Teclado con switches azules', 59.95, 30);
    
-- Creamos usuario

-- crea usuario nuevo con contraseña
CREATE USER 
'tiendaclase1'@'localhost' 
IDENTIFIED  BY 'Tiendaclase123$';
-- permite acceso a ese usuario
GRANT USAGE ON *.* TO 'tiendaclase1'@'localhost';
-- quitale todos los limites que tenga
ALTER USER 'tiendaclase1'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;
-- dale acceso a la base de datos portafolio1
GRANT ALL PRIVILEGES ON `tienda1`.* 
TO 'tiendaclase1'@'localhost';
-- recarga la tabla de privilegios
FLUSH PRIVILEGES;

```
**002-ver los usuarios creados.sql**
```sql

```
**003-nos conectamos a la base de datos.py**
```python
import mysql.connector 

conexion = mysql.connector.connect(
  host="localhost",
  user="tiendaclase1",
  password="Tiendaclase123$",
  database="tienda1"
)                                      
  
cursor = conexion.cursor() 
cursor.execute("SELECT * FROM clientes;")  

filas = cursor.fetchall()

print(filas)



```
**004-ahora ponemos flask.py**
```python
import mysql.connector
from flask import Flask
import json

# Conexión a la base de datos
conexion = mysql.connector.connect(
    host="localhost",
    user="tiendaclase1",
    password="Tiendaclase123$",
    database="tienda1"
)        
app = Flask(__name__)

@app.route("/clientes")
def inicio():
	cursor = conexion.cursor() 
	cursor.execute("SELECT * FROM clientes;")  

	filas = cursor.fetchall()
	return json.dumps(filas)

if __name__ == "__main__":
	app.run(debug=True)

```
**005-creamos segundo endpoint.py**
```python
import mysql.connector
from flask import Flask
import json

# Conexión a la base de datos
conexion = mysql.connector.connect(
    host="localhost",
    user="tiendaclase1",
    password="Tiendaclase123$",
    database="tienda1"
)        
app = Flask(__name__)

@app.route("/clientes")
def clientes():
	cursor = conexion.cursor() 
	cursor.execute("SELECT * FROM clientes;")  

	filas = cursor.fetchall()
	return json.dumps(filas)

@app.route("/tablas")
def tablas():
	cursor = conexion.cursor() 
	cursor.execute("SHOW TABLES;")  

	filas = cursor.fetchall()
	tablas = []
	for fila in filas:
		tablas.append(fila[0])
	return json.dumps(tablas)

if __name__ == "__main__":
	app.run(debug=True) 

```
**006-endpoint principal.py**
```python
import mysql.connector 
from flask import Flask, render_template, jsonify, g

app = Flask(__name__)

def get_db():
    if 'db' not in g:
        g.db = mysql.connector.connect(
            host="localhost",
						user="tiendaclase1",
						password="Tiendaclase123$",
						database="tienda1"
        )
    return g.db

@app.teardown_appcontext
def close_db(exception):
    db = g.pop('db', None)
    if db is not None:
        db.close()

@app.route("/")
def raiz():
    return render_template("index.html")

# http://127.0.0.1:5000/clientes
@app.route("/clientes")
def clientes():
    db = get_db()
    cursor = db.cursor()
    cursor.execute("SELECT * FROM clientes;")
    filas = cursor.fetchall()
    cursor.close()
    return jsonify(filas)

# http://127.0.0.1:5000/tablas
@app.route("/tablas")
def tablas():
    db = get_db()
    cursor = db.cursor()
    cursor.execute("SHOW TABLES;")
    filas = cursor.fetchall()
    cursor.close()

    tablas = [fila[0] for fila in filas]
    return jsonify(tablas)

if __name__ == "__main__":
    app.run(debug=True, use_reloader=False)  # ver punto 2

```
#### Ejercicio final unidad
**ejercicio final eval.md**
```markdown
En este ejercicio realizare una integración completa de todo lo visto en la unidad para conectar una base de datos con una interfaz web comenzare en el backend diseñando la estructura de datos en sql que serian las tablas de clientes y productos y asegurando el acceso mediante la creación de un usuario con privilegios específicos despues desarrollare una "aplicacion" sencilla con Python y Flask que servirá como puente extrayendo la información y entregándola en formato json y por ultimo implementare la parte visual con html y javascript utilizando la función fetch para consumir los datos dinámicamente y mostrarlos en el navegador

---

Primero creo una base de datos y dos tablas clientes y productos con lo que se me ha dado en el ejercicio
```
-- Crear base de datos
CREATE DATABASE IF NOT EXISTS tiendaclase;
USE tiendaclase;

-- Tabla clientes
CREATE TABLE clientes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE NOT NULL,
    telefono VARCHAR(20),
    fecha_registro VARCHAR(100)
);

-- Tabla productos
CREATE TABLE productos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    descripcion TEXT,
    precio DECIMAL(10,2) NOT NULL,
    stock INT NOT NULL DEFAULT 0
);

-- Datos de prueba: clientes
INSERT INTO clientes (nombre, email, telefono)
VALUES
    ('Ana López', 'ana@example.com', '600123456'),
    ('Carlos Ruiz', 'carlos@example.com', '611987654'),
    ('María Gómez', 'maria@example.com', '622111222');

-- Datos de prueba: productos
INSERT INTO productos (nombre, descripcion, precio, stock)
VALUES
    ('Portátil 15"', 'Portátil de 15 pulgadas con 16GB RAM', 899.99, 10),
    ('Ratón inalámbrico', 'Ratón óptico inalámbrico', 19.90, 50),
    ('Teclado mecánico', 'Teclado con switches azules', 59.95, 30);
```
Ahora creo un servidor web con flask para mostrar los datos de las tablas en base a una plantilla entregada
```
import mysql.connector 
from flask import Flask, render_template
import json

app = Flask(__name__)

@app.route("/clientes")
def clientes():
    cursor = conexion.cursor() 
    cursor.execute("SELECT * FROM clientes;")  

    filas = cursor.fetchall()
    return json.dumps(filas)

@app.route("/tablas")
def tablas():
    cursor = conexion.cursor() 
    cursor.execute("SHOW TABLES;")  

    filas = cursor.fetchall()
    tablas = []
    for fila in filas:
        tablas.append(fila[0])
    return json.dumps(tablas)

if __name__ == "__main__":
    app.run(debug=True)
```
Ahora creo un usuario y le doy todos los permisos
```
CREATE USER 
'tiendaclase'@'localhost' 
IDENTIFIED  BY 'Tiendaclase123$';

GRANT USAGE ON *.* TO 'tiendaclase'@'localhost';

ALTER USER 'tiendaclase'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON tiendaclase.* 
TO 'tiendaclase'@'localhost';

FLUSH PRIVILEGES;
```
Luego utilizo el siguiente codigo para conectarme a la base de datos mediante el usuario creado
```
import mysql.connector 

conexion = mysql.connector.connect(
  host="localhost",
  user="tiendaclase",
  password="Tiendaclase123$",
  database="tiendaclase"
)
```
Ahora utilizo el siguiente codigo para mostrar los datos de la base de datos en un servidor web
```
import mysql.connector 
from flask import Flask, render_template
import json

app = Flask(__name__)

@app.route("/clientes")
def clientes():
    cursor = conexion.cursor() 
    cursor.execute("SELECT * FROM clientes;")  

    filas = cursor.fetchall()
    return json.dumps(filas)

if __name__ == "__main__":
    app.run(debug=True)
```
Ahora creo un archivo html y con un script de javascript para mostrar los datos de la base de datos en un servidor web
```
<!doctype html>
<html>
   <head>
       <style>
           html,body{height:100%;padding:0px;margin:0px;display:flex;width:100%;}
           nav{background:indigo;flex:1;color:white;padding:20px;}
           main{flex:3;background:#f4f4f9;padding:20px;}
       </style>
   </head>
   <body>
       <nav>Menu</nav>
       <main>
           <h1>Clientes</h1>
           <script>
               fetch('/clientes')
                   .then(response => response.json())
                   .then(data => {
                       const clientes = document.getElementById('clientes');
                       data.forEach(cliente => {
                           const li = document.createElement('li');
                           li.textContent = `${cliente.nombre} - ${cliente.email}`;
                           clientes.appendChild(li);
                       });
                   });
           </script>
           <ul id="clientes"></ul>
       </main>
   </body>
</html>
```

---

En conclusión este ejercicio incluye todo lo visto en la unidad logrado desacoplar la base de datos de la interfaz de usuario utilizando una aplicacion intermedia construida con Flask esto demuestra el papel crucial del Backend que seria python como gestor que extrae la información cruda de MySQL y la convierte al formato estándar JSON permitiendo que el Frontend que seria JavaScript y que la consuma y la presente al usuario de forma dinámica 
```
#### templates
**index.html**
```html
<!doctype html>
<html>
   <head>
       <style>
           html,body{height:100%;padding:0px;margin:0px;display:flex;width:100%;}
           nav{background:plum;flex:1;color:white;padding:20px;}
           main{flex:4;background:white;padding:20px;}
       </style>
   </head>
   <body>
       <nav>Dominique | panel</nav>
       <style>
           nav{display:flex;flex-direction:column;gap:20px;}
           nav button{border:none;background:white;color:plum;padding:20px;
           text-transform:uppercase;}
       </style>
       <script>
           // En primer lugar cargamos datos de un json
           fetch("/tablas")
           .then(function(respuesta){
               return respuesta.json(); // La resp viene en JSON
           })
           .then(function(datos){
               // Y luego creamos botones a partir de lo que hay en el json
           		let contenedor = document.querySelector("nav")
                datos.forEach(function(texto_boton){
                	let boton = document.createElement("button")
                    boton.textContent = texto_boton;
                    contenedor.appendChild(boton);
                })
           })
       </script>
       <main>Contenido de la tabla de clientes</main>
       <style>
           table{border:3px solid plum;border-collapse:collapse;background:white;}
           table tr:first-child{background:plum;color:white;}
           table tr td{padding:10px;border-right:1px solid plum;}
       </style>
       <script>
           // En primer lugar cargamos datos de un json
           fetch("/clientes")
           .then(function(respuesta){
               return respuesta.json(); // La resp viene en JSON
           })
           .then(function(datos){
               // Selecciono el contenedor de la tabla
               let contenedor = document.querySelector("main");
               // Primero creo una tabla en memoria
               let tabla = document.createElement("table");
               // Al cuerpo le añado la tabla
               contenedor.appendChild(tabla); 
               // Para cada una de las lineas del json:
               datos.forEach(function(linea){
               		// Primero creo una fila - table row
                   let fila = document.createElement("tr");
                   // Ahora creo tantas celdas como sea necesario
                   linea.forEach(function(celda){
                       	// Creo una celda vacia HTML
                   		let data = document.createElement("td");
                       	// Le pongo el texto a la celda
                       	data.textContent = celda
                       	// A la fila, le añado la celda
                       	fila.appendChild(data);
                   })
                   // A la tabla le añado esta fila
                   tabla.appendChild(fila)
               })
           })
       </script>
   </body>
</html>

```
### 006-Composiciones externas
**001-creamos la base de datos.sql**
```sql
sudo mysql -u root -p

CREATE DATABASE composiciones;

USE composiciones;

CREATE TABLE alumnos(
	Identificador INT PRIMARY KEY,
	nombre VARCHAR(100),
	apellidos VARCHAR(100)
);

CREATE TABLE profesores(
	Identificador INT PRIMARY KEY,
	nombre VARCHAR(100),
	apellidos VARCHAR(100)
);

CREATE TABLE asignaturas(
	Identificador INT PRIMARY KEY,
	nombre VARCHAR(100),
	id_profesor INT
);

CREATE TABLE matriculas(
	Identificador INT PRIMARY KEY,
	id_asignatura INT,
	id_alumno INT
);


```
**002-datos de muestras.sql**
```sql
INSERT INTO alumnos (Identificador, nombre, apellidos) VALUES
(1,'Ana','García López'),
(2,'Luis','Martínez Pérez'),
(3,'María','Sánchez Ruiz'),
(4,'Javier','Fernández Gómez'),
(5,'Laura','Díaz Ortega'),
(6,'Carlos','Romero Torres'),
(7,'Elena','Navarro Martínez'),
(8,'Pablo','Hernández Soto'),
(9,'Sofía','Iglesias Navarro'),
(10,'Miguel','Castro León'),
(11,'Clara','Vidal Serrano'),
(12,'Diego','Morales Rivas'),
(13,'Lucía','Cano Torres'),
(14,'Adrián','Herrero Gil'),
(15,'Nuria','Requena Soler');

INSERT INTO profesores (Identificador, nombre, apellidos) VALUES
(1,'Juan','López García'),
(2,'Isabel','Martín Torres'),
(3,'Pedro','Hernández Rojas'),
(4,'Raquel','Santos Pérez'),
(5,'Alberto','Gómez Ortiz'),
(6,'Carmen','Fuentes Beltrán'),
(7,'Roberto','Pascual Torres');

INSERT INTO asignaturas (Identificador, nombre, id_profesor) VALUES
(1,'Matemáticas',1),
(2,'Lengua Española',2),
(3,'Historia',3),
(4,'Geografía',4),
(5,'Física',5),
(6,'Química',6),
(7,'Biología',7),
(8,'Inglés',2),
(9,'Tecnología',5),
(10,'Educación Física',3),
(11,'Música',4),
(12,'Arte',1);

INSERT INTO matriculas (Identificador, id_asignatura, id_alumno) VALUES
(1,1,1),
(2,1,2),
(3,1,3),
(4,2,1),
(5,2,4),
(6,2,5),
(7,3,6),
(8,3,7),
(9,3,8),
(10,4,9),
(11,4,10),
(12,5,11),
(13,5,12),
(14,6,13),
(15,6,14),
(16,7,15),
(17,7,3),
(18,8,4),
(19,8,5),
(20,9,6),
(21,10,7),
(22,11,8),
(23,12,9),
(24,12,10),
(25,9,11),
(26,5,12),
(27,4,13),
(28,3,14),
(29,2,15),
(30,1,4);

```
**003-consulta poco productiva.sql**
```sql
SELECT * FROM matriculas;

```
**004-composicion.sql**
```sql
SELECT
    *
FROM matriculas
LEFT JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador;


```
**005-mas composiciones.sql**
```sql
SELECT 
*
FROM matriculas
LEFT JOIN asignaturas
ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
ON matriculas.id_alumno = alumnos.Identificador;

```
**006-proyeccion.sql**
```sql
-- Seleccionamos los datos que nos interesan
-- Cruzamos matriculas con alumnos y asignaturas


SELECT 
asignaturas.nombre AS "Nombre de la asignatura",
alumnos.nombre AS "Nombre del alumno",
alumnos.apellidos AS "Apellidos del alumno"
FROM matriculas
LEFT JOIN asignaturas
ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
ON matriculas.id_alumno = alumnos.Identificador;

```
**007-varias consultas para mas adelnate.sql**
```sql
SELECT 
    asignaturas.nombre AS 'Asignatura',
    alumnos.nombre AS 'Alumno',
    alumnos.apellidos AS 'Apellidos'
FROM matriculas
INNER JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador
INNER JOIN alumnos
    ON matriculas.id_alumno = alumnos.Identificador;


SELECT
    asignaturas.nombre AS 'Asignatura',
    alumnos.nombre AS 'Alumno',
    alumnos.apellidos AS 'Apellidos'
FROM matriculas
LEFT JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
    ON matriculas.id_alumno = alumnos.Identificador;



SELECT
    asignaturas.nombre AS 'Asignatura',
    alumnos.nombre AS 'Alumno',
    alumnos.apellidos AS 'Apellidos'
FROM matriculas
RIGHT JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador
RIGHT JOIN alumnos
    ON matriculas.id_alumno = alumnos.Identificador;


SELECT
    asignaturas.nombre AS 'Asignatura',
    alumnos.nombre AS 'Alumno',
    alumnos.apellidos AS 'Apellidos'
FROM matriculas
LEFT JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
    ON matriculas.id_alumno = alumnos.Identificador

UNION

SELECT
    asignaturas.nombre,
    alumnos.nombre,
    alumnos.apellidos
FROM matriculas
RIGHT JOIN asignaturas
    ON matriculas.id_asignatura = asignaturas.Identificador
RIGHT JOIN alumnos
    ON matriculas.id_alumno = alumnos.Identificador;

```
**008-creamos vista.sql**
```sql
CREATE VIEW matriculas_join AS 
SELECT 
asignaturas.nombre AS "Nombre de la asignatura",
alumnos.nombre AS "Nombre del alumno",
alumnos.apellidos AS "Apellidos del alumno"
FROM matriculas
LEFT JOIN asignaturas
ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
ON matriculas.id_alumno = alumnos.Identificador;

```
**009-llmar a la vista.sql**
```sql
CREATE VIEW matriculas_join AS 
SELECT 
asignaturas.nombre AS "Nombre de la asignatura",
alumnos.nombre AS "Nombre del alumno",
alumnos.apellidos AS "Apellidos del alumno"
FROM matriculas
LEFT JOIN asignaturas
ON matriculas.id_asignatura = asignaturas.Identificador
LEFT JOIN alumnos
ON matriculas.id_alumno = alumnos.Identificador;

```
**010-creamos usuario.sql**
```sql
CREATE USER 
'composiciones'@'localhost' 
IDENTIFIED  BY 'Compo123$Segura';


GRANT USAGE ON *.* TO 'composiciones'@'localhost';

ALTER USER 'composiciones'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON composiciones.* 
TO 'composiciones'@'localhost';

FLUSH PRIVILEGES;

```
**011-Plantilla de conexion.py**
```python
import mysql.connector 

conexion = mysql.connector.connect(
  host="localhost",
  user="composiciones",
  password="Compo123$Segura'",
  database="composiciones"
)                                      
  
cursor = conexion.cursor() 
cursor.execute("SELECT * FROM matriculas_join;")  

filas = cursor.fetchall()

print(filas)

```
**012-plantilla diccionario.py**
```python
import mysql.connector 

conexion = mysql.connector.connect(
  host="localhost",
  user="composiciones",
  password="Compo123$Segura'",
  database="composiciones"
)                                      
  
cursor = conexion.cursor(dictionary=True) 
cursor.execute("SELECT * FROM matriculas_join;")  

filas = cursor.fetchall()

print(filas)

```
**013-flask para lanzar.py**
```python
import mysql.connector 
from flask import Flask,render_template

conexion = mysql.connector.connect(
  host="localhost",
  user="composiciones",
  password="Compo123$Segura'",
  database="composiciones"
)                                      

app = Flask(__name__)
@app.route("/")
def inicio():
  cursor = conexion.cursor(dictionary=True) 
  cursor.execute("SELECT * FROM matriculas_join;")  
  filas = cursor.fetchall()
  return str(filas)

if __name__ == "__main__":
  # Pon en marcha la aplicación
  app.run(debug=True)

```
**014-uso de plantilla.py**
```python
import mysql.connector 
from flask import Flask,render_template

conexion = mysql.connector.connect(
  host="localhost",
  user="composiciones",
  password="Compo123$Segura'",
  database="composiciones"
)                                      

app = Flask(__name__)
@app.route("/")
def inicio():
  cursor = conexion.cursor(dictionary=True) 
  cursor.execute("SELECT * FROM matriculas_join;")  
  filas = cursor.fetchall()
  return render_template("index.html",datos=filas)

if __name__ == "__main__":
  app.run(debug=True)

```
#### templates
**index.html**
```html
<!doctype html>
<html lang="es">
  <head>
    <title>Backoffice</title>
    <meta charset="utf-8">
    <style>
      body{font-family:sans-serif;background:aliceblue;}
      header{width:100%;background:indigo;padding:20px;color:white;}
      section{
        margin:auto;display:grid;gap:20px;
        grid-template-columns:repeat(5,100fr);
      	padding:20px;
      }
      article{border:1px solid indigo;padding:20px;background:white;
        border-radius:20px;display:flex;gap:20px;align-items:center;}
      .imagen{width:100px;height:100px;background:lightgrey;border-radius:5px;
      overflow:hidden;
      }
      article img{width:100%;}
    </style>
  </head>
  <body>
    <header><h1>Gestión de escuela</h1></header>
    <main>
      <section>
        {% for linea in datos:%}
        	<article>
            <div class="imagen">
            	<img src="static/josevicente.jpg">
            </div>
            <div class="texto">
              <p>Asignatura: {{linea['Nombre de la asignatura']}}</p>
              <p>Nombre: {{linea['Nombre del alumno']}}</p>
              <p>Apellidos: {{linea['Apellidos del alumno']}}</p>
            </div>
          </article>
        {% endfor %}
      </section>    
    </main>
  </body>
</html>

```
## 004-Tratamiento de datos
### 001-Insercion, borrado y modificacion de registros
**001-creamos una base de datos.sql**
```sql
CREATE DATABASE futbol2526
    CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;

USE futbol2526;

CREATE TABLE equipos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    ciudad VARCHAR(100),
    estadio VARCHAR(100),
    fundado INT,
    presupuesto DECIMAL(15,2),
    web VARCHAR(150)
);

INSERT INTO equipos (nombre, ciudad, estadio, fundado, presupuesto, web) VALUES
('Real Madrid CF', 'Madrid', 'Santiago Bernabéu', 1902, 800000000.00, 'https://www.realmadrid.com'),
('FC Barcelona', 'Barcelona', 'Spotify Camp Nou', 1899, 750000000.00, 'https://www.fcbarcelona.es'),
('Atlético de Madrid', 'Madrid', 'Cívitas Metropolitano', 1903, 450000000.00, 'https://www.atleticodemadrid.com'),
('Valencia CF', 'Valencia', 'Mestalla', 1919, 150000000.00, 'https://www.valenciacf.com');

```
**002-creamos usuario.sql**
```sql
CREATE USER 
'futbol2526'@'localhost' 
IDENTIFIED  BY 'Futbol2526$';

GRANT USAGE ON *.* TO 'futbol2526'@'localhost';

ALTER USER 'futbol2526'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;


GRANT ALL PRIVILEGES ON futbol2526.* 
TO 'futbol2526'@'localhost';

FLUSH PRIVILEGES;

```
**003-repaso select.sql**
```sql
CREATE USER 
'futbol2526'@'localhost' 
IDENTIFIED  BY 'Futbol2526$';

GRANT USAGE ON *.* TO 'futbol2526'@'localhost';

ALTER USER 'futbol2526'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;


GRANT ALL PRIVILEGES ON futbol2526.* 
TO 'futbol2526'@'localhost';

FLUSH PRIVILEGES;

```
#### Ejercicios final unidad
**ejercicio final eval.md**
```markdown

```
### 005-Politicas de bloqueo. Concurrencia
**001-codificar.php**
```php
<?php
	
  // Original
  
	$contrasena = "contraseñasegura1234";
  echo $contrasena;
  echo "<br>";
  
  // Codificar
  
  $codificado = base64_encode($contrasena);
  echo $codificado;
  echo "<br>";
  
?>

```
**002-descodificar.php**
```php
<?php
	
  // Original
  
	$contrasena = "contraseñasegura1234";
  echo $contrasena;
  echo "<br>";
  
  // Codificar
  
  $codificado = base64_encode($contrasena);
  echo $codificado;
  echo "<br>";
  
  // Descodificamos
  
  $descodificado = base64_decode($codificado);
  echo $descodificado;
  echo "<br>";
  
?>

```
**003-funciones codificacion.php**
```php
<?php
	function codificar($cadena){
  	for($i = 0;$i<9;$i++){
    	$cadena = base64_encode($cadena);
    }
    return $cadena;
  }
  
  $contrasena = "contraseñasegura1234";
  echo $contrasena;
  echo "<br>";
  
  echo codificar($contrasena);
  echo "<br>";
  
?>

```
**004-funcion descodificar.php**
```php
<?php
	function codificar($cadena){
  	for($i = 0;$i<9;$i++){
    	$cadena = base64_encode($cadena);
    }
    return $cadena;
  }
  function descodificar($cadena){
  	for($i = 0;$i<9;$i++){
    	$cadena = base64_decode($cadena);
    }
    return $cadena;
  }
  
  $contrasena = "contraseñasegura1234";
  echo $contrasena;
  echo "<br>";
  
  $codificado = codificar($contrasena);
  echo $codificado;
  echo "<br>";
  
  $descodificado = descodificar($codificado);
  echo $descodificado;
  echo "<br>";
  
  
  
?>

```
**005-codificacion ascii.php**
```php
<?php
	$letra = "a";
  echo $letra;
  echo "<br>";
  
  $ascii = ord($letra);
  echo $ascii;
  echo "<br>";
  
  $volvemos = chr($ascii);
  echo $volvemos;
  echo "<br>";
?>

```
**006-codificaromana.php**
```php
<?php
	function codificaRomana($cadena){
  	for($i = 0;$i<strlen($cadena);$i++){
    	$cadena[$i] = chr(ord($cadena[$i])+10);
    }
    return $cadena;
  }
  function descodificaRomana($cadena){
  	for($i = 0;$i<strlen($cadena);$i++){
    	$cadena[$i] = chr(ord($cadena[$i])-10);
    }
    return $cadena;
  }
  $original = "Hola esto es un texto que estoy escribiendo para hacer una prueba con algo más largo";
  echo $original;
  echo "<br>";
  
  $codificado =  codificaRomana($original);
  
  echo $codificado;
  echo "<br>";
  
  $descodificado =  descodificaRomana($codificado);
  
  echo $descodificado;
  echo "<br>";
?>


```
**007-hasheo.php**
```php
<?php

$cadena = "Hola";
echo $cadena;
echo "<br>";

// Hash mediante md5

$picadillo1 = md5($cadena);
echo $picadillo1;
echo "<br>";

// Hash mediante sha1 

$picadillo2 = sha1($cadena);
echo $picadillo2;
echo "<br>";

?>
```
**008-condicion del picadillo.php**
```php
<?php

// Primera ronda //////////////////////////////////

$cadena = "Hola";
echo $cadena;
echo "<br>";

// Hash mediante md5

$picadillo1 = md5($cadena);
echo $picadillo1;
echo "<br>";

// Segunda ronda //////////////////////////////////

$cadena2 = "Hola";
echo $cadena2;
echo "<br>";

// Hash mediante md5

$picadillo2 = md5($cadena2);
echo $picadillo2;
echo "<br>";

?>
```
**009-comprobador de picadillo.php**
```php
<?php
// Tengo este picadillo (imagina que viene de la base de datos)
$picadillo = "f688ae26e9cfa3ba6235477831d5122e";
// Cojo lo que envia el usuario
$contrasena = $_POST['contrasena'];
// Pico la contraseña
$picadillo2 = md5($contrasena);
// Y comparo
if ($picadillo == $picadillo2) {
  echo "Las contraseñas coinciden";
} else {
  echo "Las contraseñas no coinciden";
}
?>
<form method="POST" action="?">
  <input type="text" name="contrasena" placeholder="Prueba una contraseña">
  <input type="submit">
</form>
```
**010-fuerza bruta.php**
```php
<?php
$caracteres = "abcdefghijklmnopqrstuvwxyz";
$len = strlen($caracteres);

for ($i = 0; $i < $len; $i++) {
    for ($j = 0; $j < $len; $j++) {
        for ($k = 0; $k < $len; $k++) {
            for ($l = 0; $l < $len; $l++) {

                $combo = $caracteres[$i] . $caracteres[$j] . $caracteres[$k] . $caracteres[$l];
                echo $combo . "\n";

            }
        }
    }
}
?>
```
## 006-Interpretacion de diagramas EntidadRelacion
### 001-El modelo ER. Entidades yy relaciones. Cardinales. Debilidad
**001-una entidad.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "263.455px",
      "top": "148.564px",
      "width": "",
      "height": "",
      "entityName": "Cliente",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        }
      ]
    }
  ],
  "flechas": []
}
```
**002-dos entidades y relacion.html**
```html
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Diagrama exportado</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #f3f3f7;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    .page {
      position: relative;
      background: #ffffff;
      border: 1px solid #d1d5db;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
      width: 579.1125210848719px;
      height: 230.4000022194602px;
      overflow: visible;
    }

    /* formas básicas */
    .shape {
      position: absolute;
      min-width: 120px;
      min-height: 40px;
      padding: 6px 10px;
      background: #ffffff;
      border-radius: 4px;
      border: 1px solid #9ca3af;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
    }

    .shape.rectangle {
      border-radius: 4px;
    }

    .shape.pill {
      border-radius: 999px;
    }

    .shape.circle {
      border-radius: 999px;
      width: 80px;
      height: 80px;
      padding: 0;
      justify-content: center;
    }

    /* base de datos */
    .shape.db {
      min-width: 120px;
      min-height: 60px;
      padding-top: 20px;
      border-radius: 60px / 16px;
      background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
      position: absolute;
      overflow: hidden;
      text-align: center;
    }

    .shape.db::before {
      content: "";
      position: absolute;
      top: 0;
      left: 8px;
      right: 8px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid #9ca3af;
      background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
    }

    .shape.db::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 8px;
      right: 8px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(156, 163, 175, 0.6);
      border-top: none;
      background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
    }

    /* entidades ER */
    .shape.entity {
      width: 220px;
      min-height: 80px;
      background: #ffffff;
      border: 2px solid #111827;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .15);
      display: flex;
      flex-direction: column;
      font-size: 13px;
      overflow: hidden;
      padding: 0;
    }

    .entity-header {
      background: #f3f4f6;
      padding: 4px 8px;
      font-weight: 600;
      text-align: center;
      border-bottom: 1px solid #e5e7eb;
    }

    .entity-properties {
      flex: 1;
      padding: 4px 4px 0 4px;
    }

    .entity-property {
      display: grid;
      grid-template-columns: 14px 1fr 14px;
      align-items: center;
      column-gap: 4px;
      padding: 2px 0;
    }

    .entity-property .property-name {
      padding: 2px 4px;
      border-radius: 3px;
    }

    /* puertos */
    .port {
      width: 9px;
      height: 9px;
      border-radius: 50%;
      border: 1px solid #111827;
      background: #ffffff;
    }

    .port-left {
      justify-self: start;
    }

    .port-right {
      justify-self: end;
    }

    /* flechas rectas */
    .arrow {
      position: absolute;
      height: 2px;
      background: #111827;
      transform-origin: 0 50%;
    }

    .arrow::after {
      content: "";
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    .arrow-double::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%) rotate(180deg);
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    /* flechas ortogonales */
    .ortho-arrow {
      position: absolute;
      left: 0;
      top: 0;
    }

    .ortho-arrow .ortho-seg {
      position: absolute;
      background: #111827;
    }

    .ortho-seg.seg-horizontal {
      height: 2px;
    }

    .ortho-seg.seg-vertical {
      width: 2px;
    }

    .ortho-arrowhead {
      position: absolute;
      width: 0;
      height: 0;
    }

    .ortho-arrowhead.dir-right {
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    .ortho-arrowhead.dir-left {
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-right: 8px solid #111827;
    }

    .ortho-arrowhead.dir-down {
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-top: 8px solid #111827;
    }

    .ortho-arrowhead.dir-up {
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-bottom: 8px solid #111827;
    }
  </style>
</head>

<body>
  <div class="page">

    <div class="shape entity" style="left:40px;top:40px;width:219.9999999999999px;height:150.40000221946016px;">
      <div class="entity-header">Cliente</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">nombre</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">apellidos</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">email</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="shape entity"
      style="left:319.11247946999276px;top:40.40000221946022px;width:220.00004161487917px;height:126.39999389648432px;">
      <div class="entity-header">Pedido</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">fecha</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">cliente_id</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="arrow"
      style="left:198.08751106262196px;top:83.54555782524136px;width:186.90181310374695px;transform:rotate(0.24927461193529382rad);">
    </div>
  </div>
</body>

</html>
```
**002-dos entidades y relacion.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "149.359px",
      "top": "154.926px",
      "width": "",
      "height": "",
      "entityName": "Cliente",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        }
      ]
    },
    {
      "id": "forma-3",
      "tipo": "entity",
      "left": "428.468px",
      "top": "155.331px",
      "width": "",
      "height": "",
      "entityName": "Pedido",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-6",
          "name": "fecha"
        },
        {
          "id": "prop-7",
          "name": "cliente_id"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": "prop-1",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": "prop-7",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
};
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double: :before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px;
}
.ortho-seg.seg-vertical { width: 2px;
}
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:40px;top:40px;width:219.9999999999999px;height:150.40000221946016px;">
  <div class="entity-header">Cliente</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">nombre</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">apellidos</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">email</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:319.11247946999276px;top:40.40000221946022px;width:220.00004161487917px;height:126.39999389648432px;">
  <div class="entity-header">Pedido</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">fecha</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">cliente_id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="arrow" style="left:198.08751106262196px;top:83.54555782524136px;width:186.90181310374695px;transform:rotate(0.24927461193529382rad);"></div>
</div>
</body>
</html>

```
**003-Definición de cardinalidad y ejemplos.md**
```markdown
3 tipos de cardinalidad

1-1
Un solo elemento de una lista se puede conectar con un solo elemento de otra lista
Una persona tiene un DNI
(Cuando esto ocurre, esos dos datos deberían estar en una sola tabla)

1-n (uno a muchos)

Una persona con muchos hobbies
Un cliente con muchos pedidos



n-n (de muchos a muchos)

```
**004-ejemplo tienda online.html**
```html
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Diagrama exportado</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      background: #f3f3f7;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    .page {
      position: relative;
      background: #ffffff;
      border: 1px solid #d1d5db;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .1);
      width: 852.8625488281248px;
      height: 385.687510172526px;
      overflow: visible;
    }

    /* formas básicas */
    .shape {
      position: absolute;
      min-width: 120px;
      min-height: 40px;
      padding: 6px 10px;
      background: #ffffff;
      border-radius: 4px;
      border: 1px solid #9ca3af;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
    }

    .shape.rectangle {
      border-radius: 4px;
    }

    .shape.pill {
      border-radius: 999px;
    }

    .shape.circle {
      border-radius: 999px;
      width: 80px;
      height: 80px;
      padding: 0;
      justify-content: center;
    }

    /* base de datos */
    .shape.db {
      min-width: 120px;
      min-height: 60px;
      padding-top: 20px;
      border-radius: 60px / 16px;
      background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
      position: absolute;
      overflow: hidden;
      text-align: center;
    }

    .shape.db::before {
      content: "";
      position: absolute;
      top: 0;
      left: 8px;
      right: 8px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid #9ca3af;
      background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
    }

    .shape.db::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 8px;
      right: 8px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(156, 163, 175, 0.6);
      border-top: none;
      background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
    }

    /* entidades ER */
    .shape.entity {
      width: 220px;
      min-height: 80px;
      background: #ffffff;
      border: 2px solid #111827;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .15);
      display: flex;
      flex-direction: column;
      font-size: 13px;
      overflow: hidden;
      padding: 0;
    }

    .entity-header {
      background: #f3f4f6;
      padding: 4px 8px;
      font-weight: 600;
      text-align: center;
      border-bottom: 1px solid #e5e7eb;
    }

    .entity-properties {
      flex: 1;
      padding: 4px 4px 0 4px;
    }

    .entity-property {
      display: grid;
      grid-template-columns: 14px 1fr 14px;
      align-items: center;
      column-gap: 4px;
      padding: 2px 0;
    }

    .entity-property .property-name {
      padding: 2px 4px;
      border-radius: 3px;
    }

    /* puertos */
    .port {
      width: 9px;
      height: 9px;
      border-radius: 50%;
      border: 1px solid #111827;
      background: #ffffff;
    }

    .port-left {
      justify-self: start;
    }

    .port-right {
      justify-self: end;
    }

    /* flechas rectas */
    .arrow {
      position: absolute;
      height: 2px;
      background: #111827;
      transform-origin: 0 50%;
    }

    .arrow::after {
      content: "";
      position: absolute;
      right: 0;
      top: 50%;
      transform: translateY(-50%);
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    .arrow-double::before {
      content: "";
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%) rotate(180deg);
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    /* flechas ortogonales */
    .ortho-arrow {
      position: absolute;
      left: 0;
      top: 0;
    }

    .ortho-arrow .ortho-seg {
      position: absolute;
      background: #111827;
    }

    .ortho-seg.seg-horizontal {
      height: 2px;
    }

    .ortho-seg.seg-vertical {
      width: 2px;
    }

    .ortho-arrowhead {
      position: absolute;
      width: 0;
      height: 0;
    }

    .ortho-arrowhead.dir-right {
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-left: 8px solid #111827;
    }

    .ortho-arrowhead.dir-left {
      border-top: 5px solid transparent;
      border-bottom: 5px solid transparent;
      border-right: 8px solid #111827;
    }

    .ortho-arrowhead.dir-down {
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-top: 8px solid #111827;
    }

    .ortho-arrowhead.dir-up {
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-bottom: 8px solid #111827;
    }
  </style>
</head>

<body>
  <div class="page">

    <div class="shape entity" style="left:40px;top:40px;width:220.000020345052px;height:150.40000406901038px;">
      <div class="entity-header">Cliente</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">nombre</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">apellidos</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">email</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="shape entity"
      style="left:319.11250813802076px;top:44.03749593098959px;width:219.99999999999994px;height:126.40001424153643px;">
      <div class="entity-header">Pedido</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">fecha</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">cliente_id</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="shape entity"
      style="left:592.862548828125px;top:113.42500813802081px;width:219.99999999999994px;height:126.40000406901038px;">
      <div class="entity-header">LineaPedido</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">pedido_id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">producto_id</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="shape entity"
      style="left:321.7250162760416px;top:219.2875061035156px;width:219.99999999999994px;height:126.40000406901038px;">
      <div class="entity-header">Producto</div>
      <div class="entity-properties">
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">id</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">nombre</div>
          <div class="port port-right"></div>
        </div>
        <div class="entity-property">
          <div class="port port-left"></div>
          <div class="property-name">precio</div>
          <div class="port port-right"></div>
        </div>
      </div>
    </div>
    <div class="arrow"
      style="left:198.08752441406244px;top:83.63166101820605px;width:187.78675714168608px;transform:rotate(0.26715864665762246rad);">
    </div>
    <div class="arrow"
      style="left:479.0000406901041px;top:88.82457440315159px;width:189.09794372669433px;transform:rotate(0.48771768056306314rad);">
    </div>
    <div class="arrow"
      style="left:476.4375406901041px;top:260.22971032784835px;width:178.29067744819483px;transform:rotate(-0.31328691373194184rad);">
    </div>
  </div>
</body>

</html>
```
**004-ejemplo tienda online.json**
```json
{
  "formas": [
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "149.35px",
      "top": "151.289px",
      "width": "",
      "height": "",
      "entityName": "Cliente",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        }
      ]
    },
    {
      "id": "forma-3",
      "tipo": "entity",
      "left": "428.468px",
      "top": "155.331px",
      "width": "",
      "height": "",
      "entityName": "Pedido",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-6",
          "name": "fecha"
        },
        {
          "id": "prop-7",
          "name": "cliente_id"
        }
      ]
    },
    {
      "id": "forma-4",
      "tipo": "entity",
      "left": "702.213px",
      "top": "224.721px",
      "width": "",
      "height": "",
      "entityName": "LineaPedido",
      "properties": [
        {
          "id": "prop-8",
          "name": "id"
        },
        {
          "id": "prop-12",
          "name": "pedido_id"
        },
        {
          "id": "prop-13",
          "name": "producto_id"
        }
      ]
    },
    {
      "id": "forma-5",
      "tipo": "entity",
      "left": "431.079px",
      "top": "330.583px",
      "width": "",
      "height": "",
      "entityName": "Producto",
      "properties": [
        {
          "id": "prop-9",
          "name": "id"
        },
        {
          "id": "prop-10",
          "name": "nombre"
        },
        {
          "id": "prop-11",
          "name": "precio"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": "prop-1",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": "prop-7",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": "prop-5",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-4",
        "propId": "prop-12",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-5",
        "propId": "prop-9",
        "side": "right"
      },
      "hasta": {
        "shapeId": "forma-4",
        "propId": "prop-13",
        "side": "left"
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
}

```
**004-ejemplo tienda online.py**
```python
from typing import Optional

class Cliente:
    def __init__(self, id: Optional[int] = None, nombre: Optional[str] = None, apellidos: Optional[str] = None, email: Optional[str] = None):
        self.id = id
        self.nombre = nombre
        self.apellidos = apellidos
        self.email = email

    def __repr__(self):
        return f"Cliente(id={self.id!r}, nombre={self.nombre!r}, apellidos={self.apellidos!r}, email={self.email!r})"

class Pedido:
    def __init__(self, id: Optional[int] = None, fecha: Optional[str] = None, cliente_id: Optional[int] = None):
        self.id = id
        self.fecha = fecha
        self.cliente_id = cliente_id

    def __repr__(self):
        return f"Pedido(id={self.id!r}, fecha={self.fecha!r}, cliente_id={self.cliente_id!r})"

    # FK1: cliente_id -> cliente.id

class Lineapedido:
    def __init__(self, id: Optional[int] = None, pedido_id: Optional[int] = None, producto_id: Optional[int] = None):
        self.id = id
        self.pedido_id = pedido_id
        self.producto_id = producto_id

    def __repr__(self):
        return f"Lineapedido(id={self.id!r}, pedido_id={self.pedido_id!r}, producto_id={self.producto_id!r})"

    # FK1: pedido_id -> pedido.id
    # FK2: producto_id -> producto.id

class Producto:
    def __init__(self, id: Optional[int] = None, nombre: Optional[str] = None, precio: Optional[str] = None):
        self.id = id
        self.nombre = nombre
        self.precio = precio

    def __repr__(self):
        return f"Producto(id={self.id!r}, nombre={self.nombre!r}, precio={self.precio!r})"

```
**004-ejemplo tienda online.sql**
```sql
CREATE TABLE cliente (
  id INT PRIMARY KEY,
  nombre VARCHAR(255),
  apellidos VARCHAR(255),
  email VARCHAR(255)
);

CREATE TABLE pedido (
  id INT PRIMARY KEY,
  fecha VARCHAR(255),
  cliente_id INT,
  CONSTRAINT fk_pedido_1 FOREIGN KEY (cliente_id) REFERENCES cliente(id)
);

CREATE TABLE lineapedido (
  id INT PRIMARY KEY,
  pedido_id INT,
  producto_id INT,
  CONSTRAINT fk_lineapedido_1 FOREIGN KEY (pedido_id) REFERENCES pedido(id),
  CONSTRAINT fk_lineapedido_2 FOREIGN KEY (producto_id) REFERENCES producto(id)
);

CREATE TABLE producto (
  id INT PRIMARY KEY,
  nombre VARCHAR(255),
  precio VARCHAR(255)
);

```
### 002-El modelo ER ampliado. Generalizacion y especializacion. Agregacion
**001-Problema de duplicidad.json**
```json
{
  "formas": [
    {
      "id": "forma-1",
      "tipo": "entity",
      "left": "269.889px",
      "top": "209.533px",
      "width": "",
      "height": "",
      "entityName": "Alumno",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        }
      ]
    },
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "524.358px",
      "top": "209.099px",
      "width": "",
      "height": "",
      "entityName": "Profesor",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-6",
          "name": "nombre"
        },
        {
          "id": "prop-7",
          "name": "apellidos"
        },
        {
          "id": "prop-8",
          "name": "email"
        }
      ]
    }
  ],
  "flechas": []
}

```
**001-problema de duplicidad.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 554.4625006781682px;
  height: 230.83750406901035px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:40px;top:40.43750339084201px;width:219.99998304578983px;height:150.40000067816834px;">
  <div class="entity-header">Alumno</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">nombre</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">apellidos</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">email</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:294.46250067816834px;top:40px;width:219.99999999999991px;height:150.40000067816834px;">
  <div class="entity-header">Profesor</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">nombre</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">apellidos</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">email</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
</div>
</body>
</html>

```
**002-solucion con generalizacion.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 895.9249877929685px;
  height: 418.1500040690103px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:329.54998779296864px;top:40px;width:219.99999999999994px;height:174.40000406901038px;">
  <div class="entity-header">Persona</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">nombre</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">apellidos</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">email</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">NUSS</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:193.4249877929687px;top:251.74999999999994px;width:219.99999999999994px;height:126.40000406901038px;">
  <div class="entity-header">Alumno</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">matricula</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">NIA</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:477.17498779296864px;top:254.87499999999994px;width:219.99999999999994px;height:102.4000040690104px;">
  <div class="entity-header">Profesor</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">asignatura</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape rectangle" style="left:735.9249877929685px;top:282.3749999999999px;width:119.99999999999997px;height:39.999999999999986px;">Objeto</div>
<div class="shape rectangle" style="left:40px;top:297.20001220703114px;width:119.99999999999997px;height:39.999999999999986px;">Objeto</div>
<div class="arrow" style="left:376.32708352161296px;top:214.40000406901038px;width:46.13402297305142px;transform:rotate(2.198126338601317rad);"></div>
<div class="arrow" style="left:511.51588744548474px;top:214.40000406901038px;width:52.47899895220598px;transform:rotate(0.8808195907636143rad);"></div>
<div class="arrow" style="left:697.1749877929685px;top:304.12530036362807px;width:38.75608637298315px;transform:rotate(-0.01772270487784126rad);"></div>
<div class="arrow" style="left:193.42498779296864px;top:316.1666722266142px;width:33.42703229876253px;transform:rotate(3.130532466491004rad);"></div>
</div>
</body>
</html>

```
**002-solucion con generalizacion.json**
```json
{
  "formas": [
    {
      "id": "forma-1",
      "tipo": "entity",
      "left": "463px",
      "top": "108.2px",
      "width": "",
      "height": "",
      "entityName": "Persona",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        },
        {
          "id": "prop-10",
          "name": "NUSS"
        }
      ]
    },
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "326.875px",
      "top": "319.95px",
      "width": "",
      "height": "",
      "entityName": "Alumno",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-7",
          "name": "matricula"
        },
        {
          "id": "prop-9",
          "name": "NIA"
        }
      ]
    },
    {
      "id": "forma-3",
      "tipo": "entity",
      "left": "610.625px",
      "top": "323.075px",
      "width": "",
      "height": "",
      "entityName": "Profesor",
      "properties": [
        {
          "id": "prop-6",
          "name": "id"
        },
        {
          "id": "prop-8",
          "name": "asignatura"
        }
      ]
    },
    {
      "id": "forma-4",
      "tipo": "rectangle",
      "left": "869.375px",
      "top": "350.575px",
      "width": "",
      "height": "",
      "texto": "Objeto"
    },
    {
      "id": "forma-5",
      "tipo": "rectangle",
      "left": "173.45px",
      "top": "365.408px",
      "width": "",
      "height": "",
      "texto": "Objeto"
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-4",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
}

```
**003-especializacion.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 598.3500162760414px;
  height: 372.9250038994682px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:179.7250027126736px;top:40px;width:219.99999999999991px;height:150.3999837239583px;">
  <div class="entity-header">Alumno</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">nombre</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">apellidos</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">email</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:40px;top:229.39999474419483px;width:220.00001695420997px;height:102.4000125461154px;">
  <div class="entity-header">Alumno Presencial</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">asistencia</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:338.3500162760415px;top:230.5249913533528px;width:219.99999999999991px;height:102.4000125461154px;">
  <div class="entity-header">Alumno Distancia</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">virtualización</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="arrow" style="left:226.19829262908564px;top:190.39998372395826px;width:51.05333298217166px;transform:rotate(2.272246360080996rad);"></div>
<div class="arrow" style="left:361.35748622056167px;top:190.39998372395826px;width:55.41567211368557px;transform:rotate(0.8096898373336263rad);"></div>
</div>
</body>
</html>

```
**003-especializacion.json**
```json
{
  "formas": [
    {
      "id": "forma-1",
      "tipo": "entity",
      "left": "447px",
      "top": "127.2px",
      "width": "",
      "height": "",
      "entityName": "Alumno",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "nombre"
        },
        {
          "id": "prop-3",
          "name": "apellidos"
        },
        {
          "id": "prop-4",
          "name": "email"
        }
      ]
    },
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "307.281px",
      "top": "316.601px",
      "width": "",
      "height": "",
      "entityName": "Alumno Presencial",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-7",
          "name": "asistencia"
        }
      ]
    },
    {
      "id": "forma-3",
      "tipo": "entity",
      "left": "605.626px",
      "top": "317.735px",
      "width": "",
      "height": "",
      "entityName": "Alumno Distancia",
      "properties": [
        {
          "id": "prop-6",
          "name": "id"
        },
        {
          "id": "prop-8",
          "name": "virtualización"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    }
  ]
}

```
**004-agregacion.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 898.2125854492186px;
  height: 561.0750007629393px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:312.1124776204427px;top:165.84999084472656px;width:220.0000508626302px;height:102.40000406901041px;">
  <div class="entity-header">Rueda</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">color</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:40px;top:130.187505086263px;width:219.99997456868488px;height:79.99999999999999px;">
  <div class="entity-header">Llanta</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:41.20000203450522px;top:248.96250406901038px;width:220.00002543131507px;height:79.99999999999999px;">
  <div class="entity-header">Neumatico</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:311.3749694824218px;top:40px;width:219.99999999999997px;height:102.40000406901041px;">
  <div class="entity-header">Chasis</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">grosor</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:313.2125345865885px;top:297.9999796549479px;width:219.99997456868488px;height:102.40002314249674px;">
  <div class="entity-header">Motor</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">cilindrada</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:313.8749694824218px;top:418.67497762044263px;width:219.99999999999997px;height:102.40002314249674px;">
  <div class="entity-header">Chapa</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">color</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:638.2125854492186px;top:218.6750030517578px;width:219.99999999999997px;height:80.00004450480142px;">
  <div class="entity-header">Coche</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="arrow arrow-double" style="left:259.99997456868493px;top:189.13140793028094px;width:52.87965369860623px;transform:rotate(0.17054440248680316rad);"></div>
<div class="arrow arrow-double" style="left:261.2000274658203px;top:259.7634915211494px;width:52.67559989124085px;transform:rotate(-0.2594619875940007rad);"></div>
<div class="arrow arrow-double" style="left:521.294863659771px;top:142.40000406901038px;width:167.2595741102274px;transform:rotate(0.47352663736127754rad);"></div>
<div class="arrow arrow-double" style="left:532.1125284830729px;top:231.09094187764543px;width:106.96092121089757px;transform:rotate(0.126958410833631rad);"></div>
<div class="arrow arrow-double" style="left:533.2125091552733px;top:318.5607815266541px;width:108.99713894448298px;transform:rotate(-0.27165275736583794rad);"></div>
<div class="arrow arrow-double" style="left:502.50230153695827px;top:418.67497762044263px;width:219.90925892183105px;transform:rotate(-0.5771995250135427rad);"></div>
</div>
</body>
</html>

```
**004-agregacion.json**
```json
<{
  "formas": [
    {
      "id": "forma-1",
      "tipo": "entity",
      "left": "452.35px",
      "top": "193.925px",
      "width": "",
      "height": "",
      "entityName": "Rueda",
      "properties": [
        {
          "id": "prop-1",
          "name": "id"
        },
        {
          "id": "prop-2",
          "name": "color"
        }
      ]
    },
    {
      "id": "forma-2",
      "tipo": "entity",
      "left": "180.241px",
      "top": "158.275px",
      "width": "",
      "height": "",
      "entityName": "Llanta",
      "properties": [
        {
          "id": "prop-3",
          "name": "id"
        }
      ]
    },
    {
      "id": "forma-3",
      "tipo": "entity",
      "left": "181.442px",
      "top": "277.042px",
      "width": "",
      "height": "",
      "entityName": "Neumatico",
      "properties": [
        {
          "id": "prop-4",
          "name": "id"
        }
      ]
    },
    {
      "id": "forma-4",
      "tipo": "entity",
      "left": "451.617px",
      "top": "68.0833px",
      "width": "",
      "height": "",
      "entityName": "Chasis",
      "properties": [
        {
          "id": "prop-5",
          "name": "id"
        },
        {
          "id": "prop-9",
          "name": "grosor"
        }
      ]
    },
    {
      "id": "forma-5",
      "tipo": "entity",
      "left": "453.45px",
      "top": "326.079px",
      "width": "",
      "height": "",
      "entityName": "Motor",
      "properties": [
        {
          "id": "prop-6",
          "name": "id"
        },
        {
          "id": "prop-10",
          "name": "cilindrada"
        }
      ]
    },
    {
      "id": "forma-6",
      "tipo": "entity",
      "left": "454.113px",
      "top": "446.758px",
      "width": "",
      "height": "",
      "entityName": "Chapa",
      "properties": [
        {
          "id": "prop-7",
          "name": "id"
        },
        {
          "id": "prop-11",
          "name": "color"
        }
      ]
    },
    {
      "id": "forma-7",
      "tipo": "entity",
      "left": "778.45px",
      "top": "246.75px",
      "width": "",
      "height": "",
      "entityName": "Coche",
      "properties": [
        {
          "id": "prop-8",
          "name": "id"
        }
      ]
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-2",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-4",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-5",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-6",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-7",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    }
  ]
}

```
**005-esquema para el futuro.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 387.3375122070311px;
  height: 201.9374938964843px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape rectangle" style="left:130.9375122070312px;top:40px;width:119.99999999999994px;height:39.99999999999998px;">Entidades</div>
<div class="shape rectangle" style="left:40px;top:121.93749389648434px;width:119.99999999999994px;height:39.99999999999998px;">Python</div>
<div class="shape rectangle" style="left:227.33751220703118px;top:121.42499389648432px;width:119.99999999999994px;height:39.99999999999998px;">SQL</div>
<div class="arrow" style="left:168.74071123532536px;top:80px;width:62.65053054001638px;transform:rotate(2.4082083740965783rad);"></div>
<div class="arrow" style="left:214.61574548330344px;top:80px;width:64.19733867019295px;transform:rotate(0.7013843451890077rad);"></div>
<div class="arrow arrow-double" style="left:159.99999999999994px;top:141.77335165055752px;width:67.33776418612013px;transform:rotate(-0.0027356972740702453rad);"></div>
</div>
</body>
</html>

```
**005-esquema para el futuro.json**
```json
{
  "formas": [
    {
      "id": "forma-1",
      "tipo": "rectangle",
      "left": "383px",
      "top": "126.2px",
      "width": "",
      "height": "",
      "texto": "Entidades"
    },
    {
      "id": "forma-3",
      "tipo": "rectangle",
      "left": "292.053px",
      "top": "208.142px",
      "width": "",
      "height": "",
      "texto": "Python"
    },
    {
      "id": "forma-4",
      "tipo": "rectangle",
      "left": "479.4px",
      "top": "207.625px",
      "width": "",
      "height": "",
      "texto": "SQL"
    }
  ],
  "flechas": [
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-1",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-4",
        "propId": null,
        "side": null
      },
      "tipo": "simple",
      "estilo": "straight"
    },
    {
      "desde": {
        "shapeId": "forma-3",
        "propId": null,
        "side": null
      },
      "hasta": {
        "shapeId": "forma-4",
        "propId": null,
        "side": null
      },
      "tipo": "doble",
      "estilo": "straight"
    }
  ]
}

```
**006-ejemplo videojuego.html**
```html
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Diagrama exportado</title>
<style>
body {
  margin: 0;
  padding: 20px;
  background: #f3f3f7;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
}
.page {
  position: relative;
  background: #ffffff;
  border: 1px solid #d1d5db;
  box-shadow: 0 2px 4px rgba(0,0,0,.1);
  width: 774.3874931335446px;
  height: 352.38752365112293px;
  overflow: visible;
}

/* formas básicas */
.shape {
  position: absolute;
  min-width: 120px;
  min-height: 40px;
  padding: 6px 10px;
  background: #ffffff;
  border-radius: 4px;
  border: 1px solid #9ca3af;
  box-shadow: 0 1px 2px rgba(0,0,0,0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 13px;
}

.shape.rectangle {
  border-radius: 4px;
}

.shape.pill {
  border-radius: 999px;
}

.shape.circle {
  border-radius: 999px;
  width: 80px;
  height: 80px;
  padding: 0;
  justify-content: center;
}

/* base de datos */
.shape.db {
  min-width: 120px;
  min-height: 60px;
  padding-top: 20px;
  border-radius: 60px / 16px;
  background: linear-gradient(180deg, #e5e7eb 0%, #ffffff 40%, #e5e7eb 100%);
  position: absolute;
  overflow: hidden;
  text-align: center;
}
.shape.db::before {
  content: "";
  position: absolute;
  top: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid #9ca3af;
  background: radial-gradient(circle at 50% 30%, #ffffff 0%, #e5e7eb 70%);
}
.shape.db::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 8px;
  right: 8px;
  height: 18px;
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.6);
  border-top: none;
  background: radial-gradient(circle at 50% 70%, #e5e7eb 0%, #d1d5db 70%);
}

/* entidades ER */
.shape.entity {
  width: 220px;
  min-height: 80px;
  background: #ffffff;
  border: 2px solid #111827;
  border-radius: 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
  display: flex;
  flex-direction: column;
  font-size: 13px;
  overflow: hidden;
  padding: 0;
}
.entity-header {
  background: #f3f4f6;
  padding: 4px 8px;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid #e5e7eb;
}
.entity-properties {
  flex: 1;
  padding: 4px 4px 0 4px;
}
.entity-property {
  display: grid;
  grid-template-columns: 14px 1fr 14px;
  align-items: center;
  column-gap: 4px;
  padding: 2px 0;
}
.entity-property .property-name {
  padding: 2px 4px;
  border-radius: 3px;
}

/* puertos */
.port {
  width: 9px;
  height: 9px;
  border-radius: 50%;
  border: 1px solid #111827;
  background: #ffffff;
}
.port-left { justify-self: start; }
.port-right { justify-self: end; }

/* flechas rectas */
.arrow {
  position: absolute;
  height: 2px;
  background: #111827;
  transform-origin: 0 50%;
}
.arrow::after {
  content: "";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.arrow-double::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%) rotate(180deg);
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}

/* flechas ortogonales */
.ortho-arrow {
  position: absolute;
  left: 0;
  top: 0;
}
.ortho-arrow .ortho-seg {
  position: absolute;
  background: #111827;
}
.ortho-seg.seg-horizontal { height: 2px; }
.ortho-seg.seg-vertical { width: 2px; }
.ortho-arrowhead {
  position: absolute;
  width: 0;
  height: 0;
}
.ortho-arrowhead.dir-right {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-left: 8px solid #111827;
}
.ortho-arrowhead.dir-left {
  border-top: 5px solid transparent;
  border-bottom: 5px solid transparent;
  border-right: 8px solid #111827;
}
.ortho-arrowhead.dir-down {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 8px solid #111827;
}
.ortho-arrowhead.dir-up {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-bottom: 8px solid #111827;
}
</style>
</head>
<body>
<div class="page">

<div class="shape entity" style="left:249.72501754760734px;top:40px;width:219.99999999999991px;height:150.39999961853022px;">
  <div class="entity-header">Npc</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">posx</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">posy</div>
      <div class="port port-right"></div>
    </div>
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">posz</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:40px;top:232.387523651123px;width:220.00001907348624px;height:79.99999999999997px;">
  <div class="entity-header">Soldado</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:273.1374931335448px;top:232.387523651123px;width:219.99999999999991px;height:79.99999999999997px;">
  <div class="entity-header">Francotirador</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="shape entity" style="left:514.3874931335447px;top:225.512523651123px;width:219.99999999999991px;height:79.99999999999997px;">
  <div class="entity-header">Ingeniero</div>
  <div class="entity-properties">
    <div class="entity-property">
      <div class="port port-left"></div>
      <div class="property-name">id</div>
      <div class="port port-right"></div>
    </div>
  </div>
</div>
<div class="arrow" style="left:259.3905878362377px;top:190.39999961853022px;width:70.00947862654529px;transform:rotate(2.498415803305764rad);"></div>
<div class="arrow" style="left:370.92576755985533px;top:190.39999961853022px;width:42.450714800021174px;transform:rotate(1.4229372040462005rad);"></div>
<div class="arrow" style="left:469.7250175476073px;top:177.6734486274205px;width:96.86950255935886px;transform:rotate(0.5165126517463701rad);"></div>
</div>
</body>
</html>

```
## 008-Proyectos
### 001-Login
**001-creamos base de datos.sql**
```sql
CREATE DATABASE IF NOT EXISTS superaplicacion
    CHARACTER SET utf8mb4
    COLLATE utf8mb4_unicode_ci;

USE superaplicacion;

CREATE TABLE IF NOT EXISTS usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    usuario VARCHAR(50) NOT NULL UNIQUE,
    contrasena VARCHAR(255) NOT NULL,
    nombrecompleto VARCHAR(150) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    creado_en TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO usuarios (usuario, contrasena, nombrecompleto, email)
VALUES
('jlopez', '1234segura', 'Juan López Martínez', 'juan.lopez@example.com'),

('mgarcia', 'clave2025', 'María García Sánchez', 'maria.garcia@example.com'),

('pcarrasco', 'passPrueba!', 'Pedro Carrasco Hernández', 'pedro.carrasco@example.com'),

('alorenzo', 'contrasenaXYZ', 'Ana Lorenzo Ruiz', 'ana.lorenzo@example.com'),

('rfernandez', 'miClaveSegura', 'Raúl Fernández Ortega', 'raul.fernandez@example.com');

```
**002-creamos usuario.sql**
```sql
CREATE USER 
'superaplicacion'@'localhost' 
IDENTIFIED  BY 'Superaplicacion123$';

GRANT USAGE ON *.* TO 'superaplicacion'@'localhost';

ALTER USER 'superaplicacion'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON superaplicacion.* 
TO 'superaplicacion'@'localhost';

FLUSH PRIVILEGES;

```
**003-comprobacion exitosa.sql**
```sql
SELECT 
*
FROM usuarios
WHERE
usuario = 'jlopez'
AND
contrasena = '1234segura';

```
**004-comprobacion fallida.sql**
```sql
SELECT 
*
FROM usuarios
WHERE
usuario = 'jlopez'
AND
contrasena = '1234seguraZ';

```
**exito.php**
```php
<?php
session_start();
if (!isset($_SESSION['usuario'])) {
    die("Te has intentado colar, pero no ha colado");
}
?>

Si estas viendo esto es que has entrado correctamente
```
**login.html**
```html
<!doctype html>
<html lang="es">

<head>
    <title>Dominique Farias</title>
    <meta charset="utf-8">
    <style>
        body,
        html {
            margin: 0px;
            padding: 0px;
            width: 100%;
            height: 100%;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            background: lightgray;
        }

        form {
            display: flex;
            flex-direction: column;
            width: 200px;
            height: 200px;
            background: white;
            padding: 20px;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        input {
            width: 100%;
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid lightgray;
        }
    </style>
</head>

<body>
    <form action="procesa.php" method="POST">
        <input type="text" name="usuario" placeholder="usuario">
        <input type="text" name="contrasena" placeholder="contraseña">
        <input type="submit">
    </form>
</body>

</html>
```
**procesa.php**
```php
<?php
session_start(); // Arranco una sesion
$host = "localhost";
$user = "superaplicacion";
$pass = "Superaplicacion123$";
$db = "superaplicacion";

$conexion = new mysqli($host, $user, $pass, $db);

// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
$sql = "
  	SELECT 
    *
    FROM usuarios
    WHERE
    usuario = '" . $_POST['usuario'] . "'
    AND
    contrasena = '" . $_POST['contrasena'] . "';
  ";

$resultado = $conexion->query($sql);

if ($fila = $resultado->fetch_assoc()) {	// Si es cierto que hay un resultado
    $_SESSION['usuario'] = 'si';
    header("Location: exito.php");					// En ese caso vamos a la pagina de exito
} else {																		// Si no hay ningun resultado
    header("Location: login.html");					// En ese caso volvemos al login
}

$conexion->close();

?>
```
### 002-CRUD
**001-creamos base de datos de clientes.sql**
```sql
-- 1. Create database
CREATE DATABASE IF NOT EXISTS empleados
    DEFAULT CHARACTER SET utf8mb4
    COLLATE utf8mb4_spanish_ci;

-- 2. Use database
USE empleados;

-- 3. Create table empleados
DROP TABLE IF EXISTS empleados;

CREATE TABLE empleados (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    puesto VARCHAR(100) NOT NULL,
    salario DECIMAL(10,2) NOT NULL,
    fecha_contratacion DATE NOT NULL,
    departamento VARCHAR(100)
);

-- 4. Insert sample data
INSERT INTO empleados (nombre, puesto, salario, fecha_contratacion, departamento) VALUES
('Ana Torres', 'Administrativa', 21000.00, '2021-03-15', 'Administración'),
('Luis Martínez', 'Desarrollador Backend', 32000.00, '2020-11-02', 'IT'),
('Marta López', 'Desarrolladora Frontend', 30000.00, '2022-01-10', 'IT'),
('Carlos Pérez', 'Comercial', 25000.00, '2019-07-08', 'Ventas'),
('Elena García', 'Marketing Specialist', 27000.00, '2021-09-23', 'Marketing'),
('Javier Ruiz', 'Técnico de Soporte', 24000.00, '2020-02-14', 'Soporte'),
('Patricia Sánchez', 'Recursos Humanos', 26000.00, '2018-06-20', 'RRHH'),
('Sergio Gómez', 'Data Analyst', 35000.00, '2022-05-01', 'Datos'),
('Raquel Navarro', 'Diseñadora UX/UI', 29000.00, '2021-12-01', 'IT'),
('David Fernández', 'Contable', 23000.00, '2019-10-30', 'Finanzas');
```
**002-usuario con permisos.sql**
```sql
CREATE USER 
'empleados'@'localhost' 
IDENTIFIED  BY 'Empleados123$';

GRANT USAGE ON *.* TO 'empleados'@'localhost';

ALTER USER 'empleados'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON empleados.* 
TO 'empleados'@'localhost';

FLUSH PRIVILEGES;
```
#### 001-create
**001-crear.php**
```php
<!doctype html>
<html lang="es">

<head>
    <title>Jose Vicente Carratala</title>
    <meta charset="utf-8">
</head>

<body>
    <form action="procesa.php" method="POST">
        <input type="text" name="nombre" placeholder="nombre">
        <input type="text" name="puesto" placeholder="puesto">
        <input type="text" name="salario" placeholder="salario">
        <input type="text" name="fecha_contratacion" placeholder="fecha_contratacion">
        <input type="text" name="departamento" placeholder="departamento">
        <input type="submit">
    </form>
</body>

</html>
```
**002-procesa.php**
```php
<?php
// Primero cogemos la info que viene del formulario

$nombre = $_POST['nombre'];
$puesto = $_POST['puesto'];
$salario = $_POST['salario'];
$fecha_contratacion = $_POST['fecha_contratacion'];
$departamento = $_POST['departamento'];

// Y luego metemos esa información en la base de datos
$host = "localhost";
$user = "empleados";
$pass = "Empleados123$";
$db = "superaplicacion";

$conexion = new mysqli($host, $user, $pass, $db);

// Metemos los datos en la base de datos
$sql = "
  	INSERT INTO empleados VALUES(
    	NULL,
    	'" . $nombre . "',
    	'" . $puesto . "',
    	'" . $salario . "',
    	'" . $fecha_contratacion . "',
    	'" . $departamento . "'
    );
  ";
$conexion->query($sql);
$conexion->close();


?>
```
**003-resumen.md**
```markdown
El resumen de lo que hemos hecho:

Para insertar datos en una base de datos se requiere:

1.-Un formulario con los campos adecuados (la vista)
2.-Un programa que recoja esos datos y los meta en la BD (el controlador)
3.-Un programa que los muestre (la vista)
```
#### 002-read
**001-leer.php**
```php
<?php
session_start(); // Arranco una sesion
$host = "localhost";
$user = "empleados";
$pass = "Empleados123$";
$db = "empleados";

$conexion = new mysqli($host, $user, $pass, $db);

// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
$sql = "
  	SELECT * FROM empleados;
  ";

$resultado = $conexion->query($sql);
while ($fila = $resultado->fetch_assoc()) {
    var_dump($fila);			// Vomito en pantalla y ya luego formateare
}


$conexion->close();

?>
```
**002-resumen.md**
```markdown
Resumen:

Leer es muy sencillo.
Solo requiere un script, le pides algo a la base de datos
Y te lo devuelve

Y luego solo hace falta formatearlo
```
#### 003-delete
**001-miniformulario.html**
```html
<!doctype html>
<html lang="es">

<head>
    <title>Dominique Farias</title>
    <meta charset="utf-8">
</head>

<body>
    <form action="002-procesa eliminar.php" method="POST">
        <p>Introduce el ID del elemento que quieres eliminar</p>
        <input type="number" name="id" placeholder="id">
        <input type="submit">
    </form>
</body>

</html>
```
**002-procesa eliminar.php**
```php
<?php
// Primero cogemos la info que viene del formulario

$id = $_POST['id'];

// Y luego metemos esa información en la base de datos
$host = "localhost";
$user = "empleados";
$pass = "Empleados123$";
$db = "empleados";

$conexion = new mysqli($host, $user, $pass, $db);

// Metemos los datos en la base de datos
$sql = "
  	DELETE FROM empleados
    WHERE id = " . $id . "
  ";
$conexion->query($sql);

$conexion->close();

?>
```
**003-resumen.md**
```markdown
Para eliminar se necesita:

1.-Una parte frontal que envíe el id a eliminar
(o el criterio de eliminación, suele ser el id)
2.-Un archivo que tome ese dato y ejecute la eliminacion
```
#### 004-update
**001-miniformulario.html**
```html
<!doctype html>
<html lang="es">

<head>
    <title>Dominique Farias</title>
    <meta charset="utf-8">
</head>

<body>
    <form action="002-procesa modificar.php" method="POST">
        <p>Introduce el ID del elemento que quieres modificar</p>
        <input type="number" name="id" placeholder="id">
        <input type="submit">
    </form>
</body>

</html>
```
**002-procesa modificar.php**
```php
<?php
// Este archivo va a:

// 1.-Coger el ID
$id = $_POST['id'];

// 2.-Irse a la base de datos a por ese id
$host = "localhost";
$user = "empleados";
$pass = "Empleados123$";
$db = "empleados";

$conexion = new mysqli($host, $user, $pass, $db);

// Comprobacion exitosa pero mirando los datos que vienen del formulario en POST
$sql = "
  	SELECT * FROM empleados WHERE id = " . $id . ";
  ";

$resultado = $conexion->query($sql);
while ($fila = $resultado->fetch_assoc()) {
    // 3.-Pintar un formulario en pantalla
    echo '
    	<form action="003-procesaractualizacion.php" method="POST">
      	<input type="text" name="nombre" placeholder="nombre" value="' . $fila['nombre'] . '">
        <input type="text" name="puesto" placeholder="puesto" value="' . $fila['puesto'] . '">
        <input type="text" name="salario" placeholder="salario" value="' . $fila['salario'] . '">
        <input type="text" name="fecha_contratacion" placeholder="fecha_contratacion" value="' . $fila['fecha_contratacion'] . '">
        <input type="text" name="departamento" placeholder="departamento" value="' . $fila['departamento'] . '">
        <input type="submit">
      </form>
    ';
}


$conexion->close();


// 4.-Enviar la información modificada a un tercer archivo
?>
```
**003-procesa actualizacion.php**
```php
<?php
// Primero cogemos la info que viene del formulario

$nombre = $_POST['nombre'];
$puesto = $_POST['puesto'];
$salario = $_POST['salario'];
$fecha_contratacion = $_POST['fecha_contratacion'];
$departamento = $_POST['departamento'];

$id = $_POST['id'];

// Y luego metemos esa información en la base de datos
$host = "localhost";
$user = "empleados";
$pass = "Empleados123$";
$db = "empleados";

$conexion = new mysqli($host, $user, $pass, $db);

// Metemos los datos en la base de datos
$sql = "
  	 UPDATE empleados SET
     	nombre = '" . $nombre . "',
      puesto = '" . $puesto . "',
      salario = '" . $salario . "',
      fecha_contratacion = '" . $fecha_contratacion . "',
      departamento = '" . $departamento . "' 
      WHERE id = " . $id . "
    ;
  ";
$conexion->query($sql);

$conexion->close();

?>
```
**004-resumen.md**
```markdown
En una actualizacion:

1.-Miniformulario recoge el id
2.-Se lanza el id contra la base de datos
Y se pinta CASI el mismo formulario que al insertar
(truco: reutilizáis el formulario de insertar)
3.-Se lanza la actualizacion
```
### 003-panel de control
**001-creaar periodico.sql**
```sql
-- Crear la base de datos
CREATE DATABASE periodico
  DEFAULT CHARACTER SET utf8mb4
  DEFAULT COLLATE utf8mb4_unicode_ci;

-- Seleccionar la base de datos
USE periodico;

-- Tabla de autores
CREATE TABLE autores (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(100) NOT NULL,
    email VARCHAR(150) UNIQUE,
    bio TEXT,
    fecha_registro DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- Tabla de noticias
CREATE TABLE noticias (
    id INT AUTO_INCREMENT PRIMARY KEY,
    titulo VARCHAR(200) NOT NULL,
    contenido TEXT NOT NULL,
    fecha_publicacion DATETIME DEFAULT CURRENT_TIMESTAMP,
    autor_id INT NULL,   -- ← Debe permitir NULL

    CONSTRAINT fk_noticias_autores
        FOREIGN KEY (autor_id)
        REFERENCES autores(id)
        ON UPDATE CASCADE
        ON DELETE SET NULL
);
```
**002-insertar noticias de prueba.sql**
```sql
INSERT INTO autores (nombre, email, bio) VALUES
('María López', 'maria.lopez@example.com', 'Periodista especializada en política nacional.'),
('Carlos Fernández', 'carlos.fernandez@example.com', 'Redactor de tecnología y startups.'),
('Ana Martínez', 'ana.martinez@example.com', 'Corresponsal internacional con base en Bruselas.'),
('Javier Ruiz', 'javier.ruiz@example.com', 'Experto en economía y mercados financieros.');


INSERT INTO noticias (titulo, contenido, autor_id) VALUES
('El Gobierno anuncia nuevas medidas económicas',
 'El presidente ha detallado un conjunto de reformas destinadas a impulsar el crecimiento y reducir el desempleo.',
 1),

('Una startup española desarrolla un dron autónomo revolucionario',
 'La empresa valenciana AeroTech ha presentado su nuevo dron capaz de realizar rutas complejas sin intervención humana.',
 2),

('La Unión Europea debate un nuevo acuerdo climático',
 'Los representantes de los estados miembros negocian un paquete de medidas para acelerar la transición energética.',
 3),

('El mercado bursátil cierra la semana con una subida inesperada',
 'Los principales índices han registrado incrementos tras la publicación de datos positivos sobre empleo.',
 4),

('Nuevas inversiones en energías renovables para 2025',
 'El Ministerio de Industria ha anunciado un plan que prevé incrementar la producción solar en un 30%.',
 1);
```
**003-crear usuario.sql**
```sql
CREATE USER 
'periodico'@'localhost' 
IDENTIFIED  BY 'Periodico123$';

GRANT USAGE ON *.* TO 'periodico'@'localhost';

ALTER USER 'periodico'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON periodico.* 
TO 'periodico'@'localhost';

FLUSH PRIVILEGES;
```
**004-problema y solucion.sql**
```sql
CREATE USER 
'periodico'@'localhost' 
IDENTIFIED  BY 'Periodico123$';

GRANT USAGE ON *.* TO 'periodico'@'localhost';

ALTER USER 'periodico'@'localhost' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;

GRANT ALL PRIVILEGES ON periodico.* 
TO 'periodico'@'localhost';

FLUSH PRIVILEGES;
```
#### aplicacion
**index.php**
```php
<!doctype html>
<html lang="es">

<head>
    <title>Domasa - Noticias tecnológicas</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/estilo.css">
</head>

<body>
    <header>
        <h1>Domasa</h1>
        <h2>Noticias tecnológicas</h2>
    </header>
    <main>
        <?php include "inc/listar_articulos.php"; ?>
    </main>
    <footer>
    </footer>
</body>

</html>
```
##### admin
**escritorio.php**
```php
<!doctype html>
<html lang="es">

<head>
    <title>Domasa - Panel de control</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/estilo.css">
</head>

<body>
    <nav>
        <button>Noticias</button>
        <button>Autores</button>
    </nav>
    <main>
        <table>
            <thead>
                <tr>
                    <th>Titulo</th>
                    <th>Texto</th>
                    <th>Fecha</th>
                    <th>Autor</th>
                    <th>Categoria</th>
                </tr>
            </thead>
            <tbody>
                <?php
                for ($i = 0; $i < 20; $i++) {
                    echo '
                <tr>
                  <td>Titulo</td><td>Texto</td><td>Fecha</td><td>Autor</td><td>Categoria</td>
                </tr>
              	';
                }
                ?>
            </tbody>
        </table>
    </main>
</body>

</html>
```
**index.php**
```php
Hola yo soy el back<br>
Y en primer lugar hacemos login<br>
```
**procesalogin.php**
```php
Yo te voy a procesar el login<br>
Y si es correcto, te voy a llevar al panel
```
###### css
**estilo.css**
```css
/* ESTILOS GENERALES /////////////  */
html,
body {
    width: 100%;
    height: 100%;
    margin: 0px;
    padding: 0px;
}

body {
    display: flex;
}

nav {
    flex: 1;
    background: rgb(223, 143, 255);
}

main {
    flex: 4;
    background: white;
}

/* ESTILOS DEL MENU /////////////  */
nav {
    display: flex;
    padding: 20px;
    flex-direction: column;
    gap: 20px;
}

nav button {
    background: white;
    border: none;
    color: black;
    padding: 10px;
}

/* ESTILOS DE LA TABLA /////////////  */
main {
    padding: 20px;
}

table {
    width: 100%;
    border: 1px solid rgb(223, 143, 255);
    border-collapse: collapse;
}

table th,
table td {
    border: 1px solid rgb(223, 143, 255);
    padding: 10px;
}
```
##### css
**estilo.css**
```css
body,
html {
    width: 100%;
    height: 100%;
    margin: 0px;
    padding: 0px;
}

header,
main,
footer {
    width: 800px;
    margin: auto;
}

header,
footer {
    text-align: center;
}

main {
    display: grid;
    grid-template-columns: repeat(2, 100fr);
    gap: 20px;
}
```
##### inc
**listar_articulos.php**
```php
<?php
$host = "localhost";
$user = "periodico";
$pass = "Periodico123$";
$db = "periodico";
$conexion = new mysqli($host, $user, $pass, $db);
$sql = "SELECT * FROM noticias";
$resultado = $conexion->query($sql);
while ($fila = $resultado->fetch_assoc()) {
  echo '
            <article>
              <h3>' . $fila['titulo'] . '</h3>
              <time>' . $fila['fecha_publicacion'] . '</time>
              <p>' . $fila['autor_id'] . '</p>
              <p>' . $fila['contenido'] . '</p>
            </article>
          ';
}
$conexion->close();
```
### 004-Super crud poco a poco
**001-tabla.php**
```php
<table>
    <?php
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    $resultado = $conexion->query("
  	SELECT * FROM cliente;
  ");
    while ($fila = $resultado->fetch_assoc()) {
        echo '
    <tr>
    	<td>' . $fila['nombre_cliente'] . '</td>
      <td>' . $fila['apellidos'] . '</td>
      <td>' . $fila['email'] . '</td>
      <td>' . $fila['direccion'] . '</td>
      <td>' . $fila['telefono'] . '</td>
    </tr>
    ';
    }
    ?>
</table>
```
**002-vomito el array.php**
```php
<table>
    <?php
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    $resultado = $conexion->query("
  	SELECT * FROM cliente;
  ");
    while ($fila = $resultado->fetch_assoc()) {
        var_dump($fila);
        echo "<br><br>";
        echo '
    <tr>
    	<td>' . $fila['nombre_cliente'] . '</td>
      <td>' . $fila['apellidos'] . '</td>
      <td>' . $fila['email'] . '</td>
      <td>' . $fila['direccion'] . '</td>
      <td>' . $fila['telefono'] . '</td>
    </tr>
    ';
    }
    ?>
</table>
```
**003-recorrer dinamicamente el array.php**
```php
<table>
    <?php
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    $resultado = $conexion->query("
  	SELECT * FROM cliente;
  ");
    while ($fila = $resultado->fetch_assoc()) {
        echo "<tr>";
        foreach ($fila as $clave => $valor) {
            echo "<td>" . $valor . "</td>";
        }
        echo "</tr>";
    }
    ?>
</table>
```
**004-parametro get.php**
```php
<table>
    <?php
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    $resultado = $conexion->query("
  	SELECT * FROM " . $_GET['tabla'] . ";
  ");
    while ($fila = $resultado->fetch_assoc()) {
        echo "<tr>";
        foreach ($fila as $clave => $valor) {
            echo "<td>" . $valor . "</td>";
        }
        echo "</tr>";
    }
    ?>
</table>
```
**005-botones.php**
```php
<nav>
    <a href="?tabla=cliente">Clientes</a>
    <a href="?tabla=producto">Productos</a>
    <a href="?tabla=pedido">Pedidos</a>
    <a href="?tabla=lineaspedido">Lineas de pedido</a>
</nav>
<main>
    <table>
        <?php
        $host = "localhost";
        $user = "tiendaonlinedamdaw";
        $pass = "Tiendaonlinedamdaw123$";
        $db = "tiendaonlinedamdaw";

        $conexion = new mysqli($host, $user, $pass, $db);
        $resultado = $conexion->query("
      SELECT * FROM " . $_GET['tabla'] . ";
    ");
        while ($fila = $resultado->fetch_assoc()) {
            echo "<tr>";
            foreach ($fila as $clave => $valor) {
                echo "<td>" . $valor . "</td>";
            }
            echo "</tr>";
        }
        ?>
    </table>
</main>
```
**006-menu abstracto.php**
```php
<?php
// Primero me conecto a la base de datos
// Esto es común para todo el archivo
$host = "localhost";
$user = "tiendaonlinedamdaw";
$pass = "Tiendaonlinedamdaw123$";
$db = "tiendaonlinedamdaw";

$conexion = new mysqli($host, $user, $pass, $db);
?>

<nav>
    <?php
    // Ahora lo que quiero es un listado de las tablas en la base de datos
    $resultado = $conexion->query("
      SHOW TABLES;
    ");
    while ($fila = $resultado->fetch_assoc()) {
        echo '<a href="?tabla=' . $fila['Tables_in_' . $db] . '">' . $fila['Tables_in_' . $db] . '</a>';
    }
    ?>
</nav>
<main>
    <table>
        <?php
        // Y ahora creo los registros de la tabla
        $resultado = $conexion->query("
      SELECT * FROM " . $_GET['tabla'] . ";
    ");
        while ($fila = $resultado->fetch_assoc()) {
            echo "<tr>";
            foreach ($fila as $clave => $valor) {
                echo "<td>" . $valor . "</td>";
            }
            echo "</tr>";
        }
        ?>
    </table>
</main>
```
**007-un poco se estilo.php**
```php
<!doctype html>
<html>

<head>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            padding: 0px;
            margin: 0px;
        }

        body {
            display: flex;
            font-family: sans-serif;
        }

        nav {
            background: plum;
            padding: 20px;
            gap: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        nav a {
            background: white;
            color: plum;
            text-decoration: none;
            padding: 10px;
        }

        main {
            padding: 20px;
            flex: 4;
        }

        table td {
            padding: 10px;
        }

        table {
            border: 2px solid plum;
            width: 100%;
        }
    </style>
</head>

<body>
    <?php
    // Primero me conecto a la base de datos
    // Esto es común para todo el archivo
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
        <?php
        // Ahora lo que quiero es un listado de las tablas en la base de datos
        $resultado = $conexion->query("
          SHOW TABLES;
        ");
        while ($fila = $resultado->fetch_assoc()) {
            echo '<a href="?tabla=' . $fila['Tables_in_' . $db] . '">' . $fila['Tables_in_' . $db] . '</a>';
        }
        ?>
    </nav>
    <main>
        <table>
            <?php
            // Y ahora creo los registros de la tabla
            $resultado = $conexion->query("
          SELECT * FROM " . $_GET['tabla'] . ";
        ");
            while ($fila = $resultado->fetch_assoc()) {
                echo "<tr>";
                foreach ($fila as $clave => $valor) {
                    echo "<td>" . $valor . "</td>";
                }
                echo "</tr>";
            }
            ?>
        </table>
    </main>
</body>

</html>
```
**008-cabeceras de columna.php**
```php
<!doctype html>
<html>

<head>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            padding: 0px;
            margin: 0px;
        }

        body {
            display: flex;
            font-family: sans-serif;
        }

        nav {
            background: plum;
            padding: 20px;
            gap: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        nav a {
            background: white;
            color: plum;
            text-decoration: none;
            padding: 10px;
        }

        main {
            padding: 20px;
            flex: 4;
        }

        table td {
            padding: 10px;
        }

        table {
            border: 2px solid plum;
            width: 100%;
        }

        th {
            background: plum;
            color: white;
            padding: 10px;
        }
    </style>
</head>

<body>
    <?php
    // Primero me conecto a la base de datos
    // Esto es común para todo el archivo
    $host = "localhost";
    $user = "tiendaonlinedamdaw";
    $pass = "Tiendaonlinedamdaw123$";
    $db = "tiendaonlinedamdaw";

    $conexion = new mysqli($host, $user, $pass, $db);
    ?>

    <nav>
        <?php
        // Ahora lo que quiero es un listado de las tablas en la base de datos
        $resultado = $conexion->query("
          SHOW TABLES;
        ");
        while ($fila = $resultado->fetch_assoc()) {
            echo '<a href="?tabla=' . $fila['Tables_in_' . $db] . '">' . $fila['Tables_in_' . $db] . '</a>';
        }
        ?>
    </nav>
    <main>
        <table>
            <?php
            // PRIMERO CREO LAS CABECERAS //////////////////
            $resultado = $conexion->query("
          SELECT * FROM " . $_GET['tabla'] . " LIMIT 1;
        ");	// SOLO QUIERO UN ELEMENTO !!!!!!!!!!!!!!!!
            while ($fila = $resultado->fetch_assoc()) {
                echo "<tr>";
                foreach ($fila as $clave => $valor) {
                    echo "<th>" . $clave . "</th>";		// En lugar de enseñarme el valor, enseñame la clave
                }
                echo "</tr>";
            }
            ?>
            <?php
            // Y LUEGO EL RESTO DE DATOS //////////////
            $resultado = $conexion->query("
          SELECT * FROM " . $_GET['tabla'] . ";
        ");
            while ($fila = $resultado->fetch_assoc()) {
                echo "<tr>";
                foreach ($fila as $clave => $valor) {
                    echo "<td>" . $valor . "</td>";
                }
                echo "</tr>";
            }
            ?>
        </table>
    </main>
</body>

</html>
```
**database_proyecto_biblioteca.md**
```markdown

---

Primero Comienzo creando la base de datos para el proyecto y llamo la base de datos biblioteca_personal
```sql
CREATE DATABASE IF NOT EXISTS biblioteca_personal;
```
Luego utilizo USE para seleccionar la base de datos
```sql
USE biblioteca_personal;
```

Luego creo la tabla de usuarios que es por usuario donde utilizo el id_usuario como primary key y auto incremento, que es para distinguir a cada usuario que entre por su id
esto es para que cada usuario tenga su propia colección de libros y que mientras haya subiendo mas usuarios suba el numero de id que le corresponde y utilizo el INT para que sea solo numerico.
Luego creo la otro de usuarios que es por usuario donde NOT_NULL que es para que no quede vacio y UNIQUE que es para que no se repita.
Despues creo el de email el cual es para el correo electronico este tambien utiliza NOT_NULL que es para que no quede vacio y UNIQUE que es para que no se repita.
Despues creo el de contrasena el cual es para la contraseña este tambien utiliza NOT_NULL que es para que no quede vacio.
Despues creo el de nombre_completo el cual es para el nombre completo del usuario.
Despues creo el de created_at el cual es para la fecha de creacion del usuario.
```sql
CREATE TABLE IF NOT EXISTS Usuarios (
    id_usuario INT AUTO_INCREMENT PRIMARY KEY,
    usuario VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    contrasena VARCHAR(255) NOT NULL,
    nombre_completo VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```
Ahora creo la tabla de autores que es por autor donde utilizo el id_autor como primary key y auto incremento, que es para distinguir a cada autor que entre por su id ya que puede haber autores que tengan mas de un libro. 
y que mientras haya subiendo mas autores suba el numero de id que le corresponde y utilizo el INT para que sea solo numerico.
Luego creo la otro de nombre que es para el nombre del autor donde NOT_NULL que es para que no quede vacio.
Despues creo el de nacionalidad el cual es para la nacionalidad del autor
```sql
CREATE TABLE Autores (
    id_autor INT PRIMARY KEY AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    nacionalidad VARCHAR(50)
);
```
Luego creo la tabla de categorias que es por categoria donde utilizo el id_categoria como primary key y auto incremento, que es para distinguir a cada categoria que entre por su id ya que puede haber categorias que tengan mas de un libro. 
y que mientras vaya subiendo mas categorias suba el numero de id que le corresponde y utilizo el INT para que sea solo numerico.
Luego creo la otra de nombre que es para el nombre de la categoria donde NOT_NULL que es para que no pueda quedar vacio.
```sql
CREATE TABLE Categorias (
    id_categoria INT PRIMARY KEY AUTO_INCREMENT,
    nombre_categoria VARCHAR(50) NOT NULL
);
```
Luego creo la tabla de editoriales que es por editorial donde utilizo el id_editorial como primary key y auto incremento, que es para distinguir a cada editorial que entre por su id ya que puede haber editoriales que tengan mas de un libro. 
y que mientras vaya subiendo mas editoriales suba el numero de id que le corresponde y utilizo el INT para que sea solo numerico.
Luego creo la otro de nombre que es para el nombre de la editorial donde NOT_NULL que es para que no pueda quedar vacio.
Luego creo el de pais el cual es para el pais de la editorial
```sql
CREATE TABLE Editoriales (
    id_editorial INT PRIMARY KEY AUTO_INCREMENT,
    nombre_editorial VARCHAR(100) NOT NULL,
    pais VARCHAR(50)
);
```
Luego creo la tabla de libros que es por libro donde utilizo el id_libro como primary key y auto incremento, que es para distinguir a cada libro que entre por su id ya que puede haber libros que tengan mas de un autor, editorial y categoria. 
y que mientras vaya subiendo mas libros suba el numero de id que le corresponde y utilizo el INT para que sea solo numerico.
Luego creo el otro de titulo que es para el titulo del libro donde NOT_NULL que es para que no pueda quedar vacio.
Luego creo el de isbn el cual es para el isbn del libro el cual tambien es UNIQUE que es para que sea unico y NOT_NULL que es para que no pueda quedar vacio.
Luego creo el de num_paginas el cual es para el numero de paginas del libro el cual es INT que es para que sea solo numerico.
Luego creo el de idioma el cual es para el idioma del libro 
Luego creo el de edicion el cual es para la edicion del libro si es especial, tapa dura, tapa blanda, etc.
Luego creo el de año_publicacion el cual es para el año de publicacion del libro el cual tambien es INT que es para que sea solo numerico.
Luego creo el de descripcion el cual es para la descripcion del libro el cual tambien es TEXT que es para que sea solo texto.
Luego creo el de id_autor el cual es para el id del autor del libro
Luego creo el de id_editorial el cual es para el id de la editorial del libro
Luego creo el de id_categoria el cual es para el id de la categoria del libro

Luego creo una FOREIGN KEY que es para la relacion de la tabla de libros con la tabla de autores, editoriales y categorias
Por ejemplo el id_autor es para la relacion de la tabla de libros con la tabla de autores
Donde el id_editorial de la tabla de libros es igual al id_editorial de la tabla de editoriales
Donde el id_categoria de la tabla de libros es igual al id_categoria de la tabla de categorias
```sql
CREATE TABLE Libros (
    id_libro INT PRIMARY KEY AUTO_INCREMENT,
    titulo VARCHAR(150) NOT NULL,
    isbn VARCHAR(20) UNIQUE NOT NULL,
    num_paginas INT,
    idioma VARCHAR(30),
    edicion VARCHAR(50),
    año_publicacion INT,
    descripcion TEXT,
    id_autor INT,
    id_editorial INT,
    id_categoria INT,
    FOREIGN KEY (id_autor) REFERENCES Autores(id_autor),
    FOREIGN KEY (id_editorial) REFERENCES Editoriales(id_editorial),
    FOREIGN KEY (id_categoria) REFERENCES Categorias(id_categoria)
);
```
Luego creo la tabla coleccion para poder divoidir lo que el usuario tiene deseado, leyendo y leido
donde el id_colecciones es INT que es para que sea solo numerico asi como tambien es PRIMARY KEY AUTO_INCREMENT que es para que sea auto incremento y que mientras vaya subiendo mas libros suba el numero de id que le corresponde
Donde el id_usuario es INT que es para que sea solo numerico asi como tambien es NOT NULL que es para que no pueda quedar vacio
Donde el id_libro es INT que es para que sea solo numerico asi como tambien es NOT NULL que es para que no pueda quedar vacio
Donde el estado es ENUM que es para que sea solo texto y que pueda tener los valores de "Deseado", "Leyendo", "Leido"
Donde el fecha_agregado es TIMESTAMP que es para que recuerde la fecha en que se agrego el libro
Donde el precio es DECIMAL que es para que sea numero y este solo aparecera cuando el estado sea "Deseado"
Donde el capitulo_actual es INT que es para que sea solo numerico y este solo aparecera cuando el estado sea "Leyendo"
Donde el resena es TEXT que es para que sea solo texto y este solo aparecera cuando el estado sea "Leido"
Donde el valoracion es INT que es para que sea solo numerico y este solo aparecera cuando el estado sea "Leido" y tambien esta el CHECK que es para que sea solo numerico y este solo aparecera cuando el estado sea "Leido" y que pueda tener los valores de 0 a 5
Donde el FOREIGN KEY (id_usuario) REFERENCES Usuarios(id_usuario) ON DELETE CASCADE que es para que cuando se elimine un usuario se elimine tambien su coleccion
Donde el FOREIGN KEY (id_libro) REFERENCES Libros(id_libro) ON DELETE CASCADE que es para que cuando se elimine un libro se elimine tambien su coleccion
Donde el UNIQUE KEY (id_usuario, id_libro) que es para que no pueda haber dos libros iguales para un usuario

```sql
CREATE TABLE Coleccion (
    id_coleccion INT PRIMARY KEY AUTO_INCREMENT,
    id_usuario INT NOT NULL,
    id_libro INT NOT NULL,
    estado ENUM('Deseado', 'Leyendo', 'Leido') NOT NULL,
    fecha_agregado TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    precio DECIMAL(10, 2),       
    capitulo_actual INT,         
    resena TEXT,                    
    valoracion INT CHECK (valoracion BETWEEN 0 AND 5), 
    FOREIGN KEY (id_usuario) REFERENCES Usuarios(id_usuario) ON DELETE CASCADE,
    FOREIGN KEY (id_libro) REFERENCES Libros(id_libro) ON DELETE CASCADE,
    UNIQUE KEY (id_usuario, id_libro)
);
```
Ahora creo un usuario para poder conectar la base de datos con algun proyecto de php o html o python etc y puedan acceder a esta
Primero creo un usuario nuevo con contraseña en este caso e puesto % dado que es para conectarse a la base de datos desde cualquier direccion ip
luego le doy permisos para que pueda conectarse a la base de datos y pueda hacer todo lo que quiera y tambien le doy permisos para que pueda eliminar la base de datos
despues le doy permisos para que pueda conectarse a la base de datos y pueda hacer todo lo que quiera y tambien le doy permisos para que pueda eliminar la base de datos

```sql
CREATE USER 
'ruthydomi'@'%' 
IDENTIFIED  BY 'BibliotecaPersonal123$';
GRANT USAGE ON *.* TO 'ruthydomi'@'%';
ALTER USER 'ruthydomi'@'%' 
REQUIRE NONE 
WITH MAX_QUERIES_PER_HOUR 0 
MAX_CONNECTIONS_PER_HOUR 0 
MAX_UPDATES_PER_HOUR 0 
MAX_USER_CONNECTIONS 0;
GRANT ALL PRIVILEGES ON `biblioteca_personal`.* 
TO 'ruthydomi'@'%';
FLUSH PRIVILEGES;
```
Despues hice un alter table para poder agregar la portada y el precio al libro
```sql
ALTER TABLE Libros ADD COLUMN portada VARCHAR(255) DEFAULT NULL;
ALTER TABLE Libros ADD COLUMN precio DECIMAL(6, 2) DEFAULT NULL;
```
Finalmente creo un usuario de prueba para poder iniciar sesion y poder probar el sistema de base de datos
-- Usuario de prueba (contraseña: Admin123$)
-- Nota: En producción, la contraseña debe estar hasheada. 

```sql
INSERT INTO Usuarios (usuario, email, contrasena, nombre_completo) VALUES 
('admin', 'admin@example.com', '$2y$10$YourHashedPasswordHere...', 'Administrador');
```
```